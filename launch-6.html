<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>–ó–∞–ø—É—Å–∫</title>
<!-- Supabase -->

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="–ó–∞–ø—É—Å–∫">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#1a7bc4">
<meta name="description" content="–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–ø—É—Å–∫–∞ –∫–∞—Ä—å–µ—Ä–Ω–æ–≥–æ –∫–æ—É—á–∏–Ω–≥–∞">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&family=Golos+Text:wght@400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
:root {
  --blue: #1a7bc4; --blue-dark: #0f5a94; --blue-light: #e8f3fb; --blue-mid: #c5dff2;
  --prod: #1a7bc4; --expert: #7c3aed; --both: #059669;
  --text: #111; --muted: #6b7280; --border: #d1e5f5; --bg: #f4f8fc;
  --surface: #fff; --surface2: #f0f7fd;
  /* strategy compat vars */
  --accent1: #1a7bc4; --accent2: #7c3aed; --accent3: #059669; --accent4: #f97316;
  --gold: #d97706; --text-muted: #6b7280;
}

body { background: var(--bg); color: var(--text); font-family: 'Golos Text', sans-serif; min-height: 100vh; overflow-x: hidden; }
/* Safe area for iPhone notch & home bar */
.topnav { padding-top: env(safe-area-inset-top, 0); }
body { padding-bottom: env(safe-area-inset-bottom, 0); }
.page { overflow-x: hidden; }

/* TOPO BG */
body::before {
  content: '';
  position: fixed; inset: 0; pointer-events: none; z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='800'%3E%3Ccircle cx='400' cy='400' r='80' fill='none' stroke='%231a7bc4' stroke-width='1' opacity='0.07'/%3E%3Ccircle cx='400' cy='400' r='150' fill='none' stroke='%231a7bc4' stroke-width='1' opacity='0.06'/%3E%3Ccircle cx='400' cy='400' r='220' fill='none' stroke='%231a7bc4' stroke-width='1' opacity='0.055'/%3E%3Ccircle cx='400' cy='400' r='290' fill='none' stroke='%231a7bc4' stroke-width='1' opacity='0.05'/%3E%3Ccircle cx='400' cy='400' r='360' fill='none' stroke='%231a7bc4' stroke-width='1' opacity='0.045'/%3E%3Ccircle cx='400' cy='400' r='430' fill='none' stroke='%231a7bc4' stroke-width='1' opacity='0.04'/%3E%3Ccircle cx='400' cy='400' r='500' fill='none' stroke='%231a7bc4' stroke-width='1' opacity='0.035'/%3E%3Ccircle cx='400' cy='400' r='570' fill='none' stroke='%231a7bc4' stroke-width='1' opacity='0.03'/%3E%3C/svg%3E");
  background-size: 800px 800px; background-position: center;
}

/* ‚îÄ‚îÄ NAV ‚îÄ‚îÄ */
.topnav {
  background: white; border-bottom: 2px solid var(--blue-mid);
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 28px; height: 64px; position: sticky; top: 0; z-index: 100;
}
.nav-logo {
  font-family: 'Montserrat', sans-serif; font-size: 13px; font-weight: 900;
  color: var(--blue); text-transform: uppercase; letter-spacing: 0.08em;
  line-height: 1.2;
}
.nav-logo span { display: block; font-size: 10px; font-weight: 600; color: var(--muted); letter-spacing: 0.12em; }
.nav-tabs { display: flex; gap: 4px; }
.nav-tab {
  padding: 8px 20px; border-radius: 4px; border: 2px solid transparent;
  background: none; color: var(--muted); font-family: 'Montserrat', sans-serif;
  font-size: 13px; font-weight: 700; cursor: pointer; transition: all 0.18s;
  text-transform: uppercase; letter-spacing: 0.05em;
}
.nav-tab:hover { color: var(--blue); border-color: var(--blue-mid); }
.nav-tab.active { background: var(--blue); color: white; border-color: var(--blue); }

/* burger */
.burger { display: none; flex-direction: column; gap: 5px; cursor: pointer; padding: 4px; background: none; border: none; }
.burger span { display: block; width: 24px; height: 2px; background: var(--blue); border-radius: 2px; transition: all 0.2s; }
.mobile-menu { display: none; position: fixed; top: 64px; left: 0; right: 0; background: white; border-bottom: 2px solid var(--blue-mid); z-index: 99; padding: 12px 16px; flex-direction: column; gap: 6px; }
.mobile-menu.open { display: flex; }
.mobile-tab {
  padding: 12px 16px; border-radius: 4px; border: 2px solid var(--border);
  background: none; color: var(--muted); font-family: 'Montserrat', sans-serif;
  font-size: 14px; font-weight: 700; cursor: pointer; transition: all 0.18s;
  text-transform: uppercase; text-align: left;
}
.mobile-tab.active { background: var(--blue); color: white; border-color: var(--blue); }

@media (max-width: 640px) {
  .nav-tabs { display: none; }
  .burger { display: flex; }
}

/* ‚îÄ‚îÄ PAGES ‚îÄ‚îÄ */
.page { display: none; position: relative; z-index: 1; }
.page.active { display: block; }

/* ‚îÄ‚îÄ SHARED HEADER STYLE ‚îÄ‚îÄ */
.page-hero {
  background: white; border-bottom: 2px solid var(--blue-mid);
  padding: 40px 28px 32px; margin-bottom: 32px;
}
.page-hero-inner { max-width: 1000px; margin: 0 auto; }
.hero-tag { font-family: 'Montserrat', sans-serif; font-size: 11px; font-weight: 700; letter-spacing: 0.2em; color: var(--blue); text-transform: uppercase; margin-bottom: 8px; }
.page-hero h2 { font-family: 'Montserrat', sans-serif; font-size: clamp(28px, 5vw, 56px); font-weight: 900; color: var(--blue); text-transform: uppercase; line-height: 1; margin-bottom: 6px; }
.hero-sub { font-size: 15px; color: var(--muted); font-family: 'Montserrat', sans-serif; font-weight: 600; }

.wrap { max-width: 1000px; margin: 0 auto; padding: 0 20px 60px; }

/* ‚îÄ‚îÄ STRATEGY: SECTION TITLES ‚îÄ‚îÄ */
.section-title {
  font-family: 'Montserrat', sans-serif; font-size: 11px; font-weight: 700;
  letter-spacing: 0.2em; text-transform: uppercase; color: var(--blue);
  margin-bottom: 20px; padding-bottom: 10px;
  border-bottom: 2px solid var(--blue-mid);
}

/* ‚îÄ‚îÄ FUNNEL ‚îÄ‚îÄ */
.funnel-section { margin-bottom: 48px; }
.funnel { display: flex; align-items: center; gap: 0; flex-wrap: wrap; }
.funnel-step {
  background: white; border: 2px solid var(--blue-mid);
  border-radius: 6px; padding: 14px 16px; text-align: center;
  flex: 1; min-width: 100px;
}
.funnel-step-num { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.1em; color: var(--blue); text-transform: uppercase; margin-bottom: 4px; }
.funnel-step-name { font-family: 'Montserrat', sans-serif; font-size: 13px; font-weight: 700; color: var(--text); margin-bottom: 4px; }
.funnel-step-desc { font-size: 11px; color: var(--muted); }
.funnel-arrow { color: var(--blue); font-size: 18px; font-weight: 700; padding: 0 6px; flex-shrink: 0; }
.windows-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin-top: 20px; }
.window-card { background: white; border: 2px solid var(--blue-mid); border-radius: 6px; padding: 16px; }
.window-num { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.1em; color: var(--blue); text-transform: uppercase; margin-bottom: 6px; }
.window-title { font-family: 'Montserrat', sans-serif; font-size: 14px; font-weight: 700; color: var(--text); margin-bottom: 6px; }
.window-desc { font-size: 12px; color: var(--muted); line-height: 1.5; }

/* ‚îÄ‚îÄ HORIZONTAL TIMELINE ‚îÄ‚îÄ */
.htimeline-section { margin-bottom: 48px; }
.htimeline-scroll { overflow-x: auto; padding-bottom: 12px; cursor: grab; }
.htimeline-scroll:active { cursor: grabbing; }
.htimeline-scroll::-webkit-scrollbar { height: 4px; }
.htimeline-scroll::-webkit-scrollbar-track { background: var(--blue-light); border-radius: 2px; }
.htimeline-scroll::-webkit-scrollbar-thumb { background: var(--blue); border-radius: 2px; }
.htimeline { display: flex; align-items: flex-start; min-width: max-content; padding: 28px 16px 16px; position: relative; }
.htimeline::before { content: ''; position: absolute; top: 42px; left: 16px; right: 16px; height: 2px; background: linear-gradient(90deg, var(--blue), var(--both), var(--accent4)); opacity: 0.3; }
.ht-week { display: flex; flex-direction: column; align-items: center; width: 155px; flex-shrink: 0; }
.ht-dot-wrap { width: 100%; display: flex; align-items: center; justify-content: center; margin-bottom: 12px; position: relative; z-index: 1; }
.ht-dot { width: 14px; height: 14px; border-radius: 50%; border: 3px solid var(--bg); flex-shrink: 0; }
.ht-dot.today { width: 20px; height: 20px; box-shadow: 0 0 0 4px rgba(26,123,196,0.2); animation: pulse 2s infinite; }
@keyframes pulse { 0%,100% { box-shadow: 0 0 0 4px rgba(26,123,196,0.2); } 50% { box-shadow: 0 0 0 8px rgba(26,123,196,0.08); } }
.ht-content { text-align: center; padding: 0 4px; }
.ht-week-label { font-family: 'Montserrat', sans-serif; font-size: 9px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-bottom: 3px; }
.ht-dates { font-size: 11px; font-weight: 700; color: var(--text); margin-bottom: 6px; font-family: 'Montserrat', sans-serif; }
.ht-phase-tag { font-size: 10px; padding: 2px 8px; border-radius: 3px; margin-bottom: 6px; display: inline-block; font-family: 'Montserrat', sans-serif; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em; }
.ht-tasks { text-align: left; padding: 8px 10px; background: white; border: 1.5px solid var(--border); border-radius: 6px; width: 143px; }
.ht-task { font-size: 10.5px; color: var(--muted); line-height: 1.45; margin-bottom: 3px; display: flex; gap: 5px; }
.ht-task:last-child { margin-bottom: 0; }
.ht-task-bullet { flex-shrink: 0; margin-top: 3px; font-size: 7px; color: var(--blue); }

/* ‚îÄ‚îÄ ACCORDION PHASES ‚îÄ‚îÄ */
.timeline-section { margin-bottom: 48px; }
.timeline { display: flex; flex-direction: column; gap: 10px; }
.phase { background: white; border: 2px solid var(--border); border-radius: 6px; overflow: hidden; }
.phase-header { display: flex; align-items: center; gap: 14px; padding: 18px 20px; cursor: pointer; transition: background 0.15s; }
.phase-header:hover { background: var(--blue-light); }
.phase-dot { width: 12px; height: 12px; border-radius: 50%; flex-shrink: 0; }
.p1 .phase-dot { background: var(--blue); }
.p2 .phase-dot { background: var(--both); }
.p3 .phase-dot { background: var(--accent4); }
.phase-meta { flex: 1; }
.phase-name { font-family: 'Montserrat', sans-serif; font-size: 15px; font-weight: 700; color: var(--text); }
.phase-dates { font-size: 12px; color: var(--muted); margin-top: 2px; font-weight: 600; }
.phase-badge { font-family: 'Montserrat', sans-serif; font-size: 11px; font-weight: 700; background: var(--blue-light); color: var(--blue); padding: 5px 12px; border-radius: 3px; border: 1.5px solid var(--blue-mid); white-space: nowrap; text-transform: uppercase; letter-spacing: 0.05em; }
.phase-chevron { color: var(--blue); font-size: 12px; transition: transform 0.25s; flex-shrink: 0; }
.phase.open .phase-chevron { transform: rotate(180deg); }
.phase-body { display: none; border-top: 2px solid var(--border); }
.phase.open .phase-body { display: block; }

/* ‚îÄ‚îÄ SPLIT WEEKS ‚îÄ‚îÄ */
.split-week { border-bottom: 1px solid var(--border); }
.split-week:last-child { border-bottom: none; }
.split-week-title { display: flex; align-items: center; gap: 12px; padding: 12px 20px; background: var(--blue-light); border-bottom: 1px solid var(--blue-mid); }
.split-wnum { font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700; color: var(--blue); text-transform: uppercase; }
.split-wdates { font-size: 12px; color: var(--muted); font-weight: 600; }
.split-cols { display: grid; grid-template-columns: 1fr 1fr; }
.split-col { padding: 14px 18px; }
.prod-col { border-right: 1px solid var(--border); background: rgba(26,123,196,0.03); }
.expert-col { background: rgba(124,58,237,0.03); }
.split-role-label { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 10px; padding-bottom: 7px; border-bottom: 1px solid var(--border); }
.prod-label { color: var(--prod); }
.expert-label { color: var(--expert); }
.stask { display: flex; flex-wrap: wrap; gap: 3px 7px; margin-bottom: 9px; font-size: 13px; line-height: 1.45; align-items: baseline; }
.stask:last-child { margin-bottom: 0; }
.stask-day { font-weight: 700; font-size: 10px; color: var(--muted); white-space: nowrap; background: var(--blue-light); padding: 2px 7px; border-radius: 3px; flex-shrink: 0; font-family: 'Montserrat', sans-serif; }
.stask-time { font-size: 10px; color: var(--both); white-space: nowrap; flex-shrink: 0; font-weight: 700; font-family: 'Montserrat', sans-serif; }
.stask-text { color: var(--text); flex: 1; min-width: 100px; }
@media (max-width: 600px) { .split-cols { grid-template-columns: 1fr; } .prod-col { border-right: none; border-bottom: 1px solid var(--border); } }

/* ‚îÄ‚îÄ BUDGET ‚îÄ‚îÄ */
.budget-section { margin-bottom: 48px; }
.budget-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 10px; }
.budget-card { background: white; border: 2px solid var(--blue-mid); border-radius: 6px; padding: 16px 18px; }
.budget-label { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.1em; color: var(--muted); text-transform: uppercase; margin-bottom: 6px; }
.budget-amount { font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--blue); }
.budget-amount span { font-size: 14px; color: var(--muted); }
.budget-note { font-size: 11px; color: var(--muted); margin-top: 4px; }
.budget-card.total-card { border-color: var(--blue); background: var(--blue); }
.total-card .budget-label { color: rgba(255,255,255,0.7); }
.total-card .budget-amount { color: white; }
.total-card .budget-note { color: rgba(255,255,255,0.7); }

/* ‚îÄ‚îÄ RESPONSIBILITY ‚îÄ‚îÄ */
.resp-section { margin-bottom: 48px; }
.resp-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 10px; }
.resp-card { background: white; border: 2px solid var(--border); border-radius: 6px; padding: 16px 18px; }
.resp-role { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 10px; padding-bottom: 8px; border-bottom: 2px solid var(--border); }
.resp-card:nth-child(1) .resp-role { color: var(--prod); border-color: var(--blue-mid); }
.resp-card:nth-child(2) .resp-role { color: var(--expert); border-color: #ddd6fe; }
.resp-card:nth-child(3) .resp-role { color: var(--both); border-color: #bbf7d0; }
.resp-card:nth-child(4) .resp-role { color: var(--accent4); border-color: #fed7aa; }
.resp-item { font-size: 13px; color: var(--text); margin-bottom: 6px; padding-left: 12px; position: relative; line-height: 1.4; }
.resp-item::before { content: '‚Üí'; position: absolute; left: 0; color: var(--blue); font-size: 11px; font-weight: 700; }

/* ‚îÄ‚îÄ CALENDAR STYLES ‚îÄ‚îÄ */
.cal-role-filter { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 18px; }
.rf-btn { padding: 9px 18px; border-radius: 4px; border: 2px solid var(--border); background: white; color: var(--muted); font-family: 'Montserrat', sans-serif; font-size: 13px; font-weight: 700; cursor: pointer; transition: all 0.2s; text-transform: uppercase; letter-spacing: 0.05em; }
.rf-btn:hover { color: var(--blue); border-color: var(--blue); }
.rf-btn.act-all { background: var(--blue); border-color: var(--blue); color: white; }
.rf-btn.act-prod { background: var(--prod); border-color: var(--prod); color: white; }
.rf-btn.act-expert { background: var(--expert); border-color: var(--expert); color: white; }

.cal-legend { display: flex; gap: 18px; flex-wrap: wrap; margin-bottom: 18px; align-items: center; }
.legend-item { display: flex; align-items: center; gap: 6px; font-size: 12px; font-weight: 700; color: var(--muted); font-family: 'Montserrat', sans-serif; }
.ldot { width: 9px; height: 9px; border-radius: 2px; flex-shrink: 0; }

.progress-wrap { background: white; border: 2px solid var(--border); border-radius: 6px; padding: 14px 18px; margin-bottom: 22px; display: flex; align-items: center; gap: 18px; flex-wrap: wrap; }
.prog-label { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.15em; color: var(--blue); text-transform: uppercase; white-space: nowrap; }
.prog-bar-wrap { flex: 1; min-width: 100px; }
.prog-bar { height: 5px; background: var(--blue-mid); border-radius: 3px; overflow: hidden; }
.prog-fill { height: 100%; background: var(--blue); border-radius: 3px; transition: width 0.4s; }
.prog-text { font-family: 'Montserrat', sans-serif; font-size: 13px; font-weight: 700; color: var(--text); white-space: nowrap; }
.prog-text span { color: var(--blue); }

.month-nav { display: flex; align-items: center; gap: 14px; margin-bottom: 14px; }
.nav-btn { width: 36px; height: 36px; background: white; border: 2px solid var(--border); border-radius: 4px; color: var(--blue); font-size: 15px; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.18s; font-family: 'Montserrat', sans-serif; }
.nav-btn:hover { background: var(--blue); color: white; border-color: var(--blue); }
.month-title { font-family: 'Montserrat', sans-serif; font-size: 18px; font-weight: 900; color: var(--text); text-transform: uppercase; letter-spacing: 0.05em; min-width: 180px; }

.phase-strip { display: grid; grid-template-columns: repeat(7, 1fr); gap: 3px; margin-bottom: 3px; }
.ps-cell { height: 4px; border-radius: 1px; }
.ps-cell.ph1 { background: var(--blue); }
.ps-cell.ph2 { background: var(--both); }
.ps-cell.ph3 { background: #f97316; }

.weekdays { display: grid; grid-template-columns: repeat(7, 1fr); gap: 3px; margin-bottom: 3px; }
.wd { text-align: center; font-family: 'Montserrat', sans-serif; font-size: 9px; font-weight: 700; letter-spacing: 0.1em; color: var(--blue); padding: 7px 0; text-transform: uppercase; }
.wd.wknd { color: var(--blue-mid); }

.days-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 3px; }
.day-cell { background: white; border: 1.5px solid var(--border); border-radius: 6px; min-height: 100px; padding: 7px; transition: border-color 0.15s; }
.day-cell.empty { background: transparent; border-color: transparent; pointer-events: none; }
.day-cell.wknd-cell { background: #fafcfe; }
.day-cell.is-today { border-color: var(--blue); border-width: 2px; background: var(--blue-light); }
.day-cell.clickable { cursor: pointer; }
.day-cell.clickable:hover { border-color: var(--blue); }
.day-cell.all-done { border-color: var(--both); background: #f0fdf4; }

.dn { font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700; color: #9ca3af; margin-bottom: 5px; display: flex; align-items: center; justify-content: space-between; }
.dn.today-dn { color: var(--blue); }
.today-tag { font-size: 8px; background: var(--blue); color: white; padding: 1px 5px; border-radius: 3px; font-family: 'Montserrat', sans-serif; font-weight: 700; text-transform: uppercase; }

.day-tasks { display: flex; flex-direction: column; gap: 3px; }
.tpill { display: flex; align-items: flex-start; gap: 5px; cursor: pointer; transition: opacity 0.15s; padding: 1px 0; }
.tpill:hover { opacity: 0.6; }
.tpill.done .ttext { opacity: 0.35; text-decoration: line-through; }
.tdot { width: 5px; height: 5px; border-radius: 50%; flex-shrink: 0; margin-top: 4px; }
.tpill.prod .tdot { background: var(--prod); }
.tpill.expert .tdot { background: var(--expert); }
.tpill.both .tdot { background: var(--both); }
.ttext { font-size: 10.5px; line-height: 1.3; flex: 1; }
.tpill.prod .ttext { color: #1e40af; }
.tpill.expert .ttext { color: #5b21b6; }
.tpill.both .ttext { color: #065f46; }
.more-label { font-size: 10px; color: var(--muted); padding: 1px 0 0 10px; font-weight: 700; font-family: 'Montserrat', sans-serif; }

/* ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ */
.overlay { display: none; position: fixed; inset: 0; background: rgba(10,30,60,0.5); z-index: 500; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(3px); }
.overlay.open { display: flex; }
.modal { background: white; border: 2px solid var(--border); border-radius: 8px; padding: 28px; max-width: 420px; width: 100%; max-height: 85vh; overflow-y: auto; }
.modal-date { font-family: 'Montserrat', sans-serif; font-size: 20px; font-weight: 900; color: var(--blue); text-transform: uppercase; margin-bottom: 4px; }
.modal-phase { font-size: 11px; color: var(--muted); font-weight: 700; font-family: 'Montserrat', sans-serif; margin-bottom: 18px; text-transform: uppercase; letter-spacing: 0.08em; }
.modal-tasks { display: flex; flex-direction: column; gap: 8px; }
.mtask { display: flex; align-items: flex-start; gap: 12px; padding: 13px 14px; border-radius: 6px; cursor: pointer; border: 2px solid transparent; transition: opacity 0.15s; }
.mtask:hover { opacity: 0.82; }
.mtask.prod { background: var(--blue-light); border-color: var(--blue-mid); }
.mtask.expert { background: #f5f3ff; border-color: #ddd6fe; }
.mtask.both { background: #f0fdf4; border-color: #bbf7d0; }
.mtask.done { opacity: 0.4; }
.mcheck { width: 22px; height: 22px; border-radius: 4px; border: 2.5px solid; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; margin-top: 1px; font-family: 'Montserrat', sans-serif; }
.mtask.prod .mcheck { border-color: var(--prod); color: var(--prod); }
.mtask.expert .mcheck { border-color: var(--expert); color: var(--expert); }
.mtask.both .mcheck { border-color: var(--both); color: var(--both); }
.mtask.done.prod .mcheck { background: var(--prod); color: white; }
.mtask.done.expert .mcheck { background: var(--expert); color: white; }
.mtask.done.both .mcheck { background: var(--both); color: white; }
.mbody { flex: 1; }
.mrole { font-size: 10px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 4px; font-family: 'Montserrat', sans-serif; }
.mtask.prod .mrole { color: var(--prod); }
.mtask.expert .mrole { color: var(--expert); }
.mtask.both .mrole { color: var(--both); }
.mtext { font-size: 14px; color: var(--text); line-height: 1.45; }
.mtime { font-size: 12px; color: var(--muted); margin-top: 5px; font-weight: 600; font-family: 'Montserrat', sans-serif; }
.modal-close { margin-top: 16px; width: 100%; padding: 12px; background: var(--blue); border: none; border-radius: 4px; color: white; cursor: pointer; font-family: 'Montserrat', sans-serif; font-size: 13px; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; transition: background 0.18s; }
.modal-close:hover { background: var(--blue-dark); }

.mobile-cal-hint { display: none; text-align: center; font-size: 11px; color: var(--muted); margin-top: 10px; font-family: 'Montserrat', sans-serif; font-weight: 600; }
@media (max-width: 640px) { .mobile-cal-hint { display: block; } }
/* ‚îÄ‚îÄ MOBILE ‚îÄ‚îÄ */
@media (max-width: 640px) {
  .topnav { padding: 0 14px; height: 56px; }
  .nav-logo { font-size: 11px; }
  .wrap { padding: 0 10px 40px; }
  .page-hero { padding: 22px 14px 18px; }
  .page-hero h2 { font-size: 26px; }

  /* Calendar mobile: compact cells, dots only */
  .days-grid { gap: 2px; }
  .phase-strip { gap: 2px; }
  .weekdays { gap: 2px; }
  .wd { font-size: 8px; padding: 5px 0; }

  .day-cell {
    min-height: 52px;
    padding: 4px 3px;
    border-radius: 4px;
    border-width: 1px;
  }
  .dn {
    font-size: 10px;
    font-weight: 700;
    margin-bottom: 3px;
  }
  .today-tag { display: none; }

  /* On mobile: hide text, show only colored dots */
  .tpill { gap: 2px; }
  .ttext { display: none; }
  .tdot {
    width: 7px; height: 7px;
    margin-top: 0;
    border-radius: 50%;
  }
  .day-tasks { flex-direction: row; flex-wrap: wrap; gap: 3px; align-items: center; }
  .more-label { display: none; }

  /* Progress bar */
  .progress-wrap { flex-direction: column; align-items: flex-start; gap: 8px; padding: 12px 14px; }
  .prog-bar-wrap { width: 100%; }

  /* Role filter */
  .cal-role-filter { gap: 6px; }
  .rf-btn { padding: 7px 12px; font-size: 11px; }

  /* Legend */
  .cal-legend { gap: 10px; }
  .legend-item { font-size: 11px; }

  /* Month nav */
  .month-title { font-size: 14px; min-width: 140px; }
  .nav-btn { width: 30px; height: 30px; font-size: 13px; }

  /* Modal */
  .modal { padding: 20px 16px; border-radius: 6px; }
  .modal-date { font-size: 16px; }
  .mtext { font-size: 13px; }

  /* Strategy */
  .funnel-row { flex-direction: column; gap: 6px; }
  .f-arr { transform: rotate(90deg); text-align: center; align-self: center; padding: 2px 0; }
  .split-cols { grid-template-columns: 1fr; }
  .prod-col { border-right: none; border-bottom: 1px solid var(--border); }
  .sw-grid { grid-template-columns: 1fr; }
  .budget-grid { grid-template-columns: 1fr 1fr; }
  .resp-grid { grid-template-columns: 1fr; }
  .phase-header { padding: 14px; gap: 10px; }
  .phase-name { font-size: 13px; }
  .phase-badge { display: none; }
}

@media (max-width: 380px) {
  .day-cell { min-height: 44px; padding: 3px 2px; }
  .dn { font-size: 9px; }
  .tdot { width: 6px; height: 6px; }
}

/* ‚îÄ‚îÄ STRATEGY SECTIONS ‚îÄ‚îÄ */
.s-section { margin-bottom: 44px; }

.funnel-row { display: flex; align-items: stretch; flex-wrap: wrap; gap: 0; }
.f-step {
  background: white; border: 2px solid var(--blue-mid); border-radius: 6px;
  padding: 14px 12px; text-align: center; flex: 1; min-width: 110px;
}
.f-ico { font-size: 20px; margin-bottom: 6px; }
.f-name { font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700; color: var(--text); margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.04em; }
.f-info { font-size: 11px; color: var(--muted); line-height: 1.4; }
.f-arr { display: flex; align-items: center; padding: 0 4px; color: var(--blue); font-size: 18px; font-weight: 700; flex-shrink: 0; }

.sw-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
.sw-card { background: white; border: 2px solid var(--border); border-radius: 6px; padding: 16px; }
.sw1 { border-top: 3px solid var(--blue); }
.sw2 { border-top: 3px solid var(--both); }
.sw3 { border-top: 3px solid #f97316; }
.sw4 { border-top: 3px solid var(--expert); }
.sw-num { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.15em; color: var(--muted); text-transform: uppercase; margin-bottom: 6px; }
.sw-name { font-family: 'Montserrat', sans-serif; font-size: 14px; font-weight: 700; color: var(--text); margin-bottom: 6px; }
.sw-desc { font-size: 12px; color: var(--muted); line-height: 1.5; }

/* Fix resp-who and resp-icon */
.resp-who { display: flex; align-items: center; gap: 8px; font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 10px; padding-bottom: 8px; border-bottom: 2px solid var(--border); color: var(--text); }
.resp-icon { width: 28px; height: 28px; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 14px; flex-shrink: 0; }

/* Fix phase colors for light theme */
.p1 > .phase-header { border-left: 4px solid var(--blue); }
.p2 > .phase-header { border-left: 4px solid var(--both); }
.p3 > .phase-header { border-left: 4px solid #f97316; }

@media (max-width: 560px) {
  .funnel-row { flex-direction: column; }
  .f-arr { transform: rotate(90deg); text-align: center; align-self: center; }
}

/* ‚îÄ‚îÄ DASHBOARD ‚îÄ‚îÄ */
.db-section { margin-bottom: 36px; }
.db-counters { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 10px; }
.db-card { background: white; border: 2px solid var(--border); border-radius: 6px; padding: 18px; }
.db-card.db-main { border-color: var(--blue); }
.db-card-label { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.1em; color: var(--muted); text-transform: uppercase; margin-bottom: 8px; }
.db-card-num { font-family: 'Montserrat', sans-serif; font-size: 36px; font-weight: 900; color: var(--blue); line-height: 1; margin-bottom: 4px; }
.db-card.db-days .db-card-num { color: var(--text); }
.db-card-sub { font-size: 12px; color: var(--muted); margin-bottom: 10px; font-weight: 600; }
.db-pbar { height: 4px; background: var(--blue-mid); border-radius: 2px; overflow: hidden; }
.db-pfill { height: 100%; background: var(--blue); border-radius: 2px; transition: width 0.5s; }

.db-today-wrap { display: flex; flex-direction: column; gap: 8px; }
.db-today-task { display: flex; align-items: flex-start; gap: 12px; padding: 14px 16px; background: white; border: 2px solid var(--border); border-radius: 6px; }
.db-today-task.prod { border-left: 4px solid var(--prod); }
.db-today-task.expert { border-left: 4px solid var(--expert); }
.db-today-task.both { border-left: 4px solid var(--both); }
.db-today-role { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 3px; }
.db-today-task.prod .db-today-role { color: var(--prod); }
.db-today-task.expert .db-today-role { color: var(--expert); }
.db-today-task.both .db-today-role { color: var(--both); }
.db-today-text { font-size: 14px; color: var(--text); line-height: 1.4; }
.db-today-time { font-size: 11px; color: var(--muted); margin-top: 3px; font-weight: 600; }

.db-empty { padding: 24px; background: white; border: 2px dashed var(--border); border-radius: 6px; color: var(--muted); font-size: 14px; text-align: center; line-height: 1.6; }

.db-last-call-card { background: white; border: 2px solid var(--blue-mid); border-radius: 6px; padding: 20px; }
.db-lc-date { font-family: 'Montserrat', sans-serif; font-size: 11px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-bottom: 4px; }
.db-lc-who { font-family: 'Montserrat', sans-serif; font-size: 13px; font-weight: 700; color: var(--blue); margin-bottom: 12px; }
.db-lc-agreements { font-size: 14px; color: var(--text); line-height: 1.6; white-space: pre-wrap; margin-bottom: 12px; }
.db-lc-tasks-title { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-bottom: 8px; }
.db-lc-task { display: flex; gap: 8px; font-size: 13px; color: var(--text); line-height: 1.4; margin-bottom: 6px; }
.db-lc-task::before { content: '‚Üí'; color: var(--blue); font-weight: 700; flex-shrink: 0; }

.db-phases { display: flex; flex-direction: column; gap: 8px; }
.db-phase-row { display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: white; border: 2px solid var(--border); border-radius: 6px; }
.db-phase-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
.db-phase-info { flex: 1; }
.db-phase-name { font-family: 'Montserrat', sans-serif; font-size: 13px; font-weight: 700; color: var(--text); }
.db-phase-dates { font-size: 12px; color: var(--muted); margin-top: 2px; }
.db-phase-badge { font-family: 'Montserrat', sans-serif; font-size: 11px; font-weight: 700; padding: 4px 10px; border-radius: 3px; text-transform: uppercase; letter-spacing: 0.05em; white-space: nowrap; }
.db-phase-badge.active { background: var(--blue); color: white; }
.db-phase-badge.done { background: #f0fdf4; color: var(--both); border: 1.5px solid var(--both); }
.db-phase-badge.upcoming { background: var(--bg); color: var(--muted); border: 1.5px solid var(--border); }

/* ‚îÄ‚îÄ CALLS ‚îÄ‚îÄ */
.call-form { background: white; border: 2px solid var(--border); border-radius: 6px; padding: 24px; }
.cf-row { display: grid; grid-template-columns: 180px 1fr; gap: 14px; margin-bottom: 14px; }
.cf-flex { }
.cf-field { display: flex; flex-direction: column; gap: 6px; margin-bottom: 14px; }
.cf-field:last-child { margin-bottom: 0; }
.cf-label { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); }
.cf-input { padding: 10px 12px; border: 2px solid var(--border); border-radius: 4px; font-family: 'Golos Text', sans-serif; font-size: 14px; color: var(--text); outline: none; transition: border-color 0.18s; background: var(--bg); }
.cf-input:focus { border-color: var(--blue); background: white; }
.cf-textarea { padding: 10px 12px; border: 2px solid var(--border); border-radius: 4px; font-family: 'Golos Text', sans-serif; font-size: 14px; color: var(--text); outline: none; resize: vertical; min-height: 100px; line-height: 1.6; transition: border-color 0.18s; background: var(--bg); }
.cf-textarea:focus { border-color: var(--blue); background: white; }
.cf-tasks-area { min-height: 120px; }
.cf-submit { margin-top: 16px; padding: 12px 24px; background: var(--blue); border: none; border-radius: 4px; color: white; font-family: 'Montserrat', sans-serif; font-size: 13px; font-weight: 700; letter-spacing: 0.08em; text-transform: uppercase; cursor: pointer; transition: background 0.18s; }
.cf-submit:hover { background: var(--blue-dark); }

.call-card { background: white; border: 2px solid var(--border); border-radius: 6px; padding: 20px; margin-bottom: 10px; position: relative; }
.call-card.latest { border-color: var(--blue); }
.call-card-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
.call-card-date { font-family: 'Montserrat', sans-serif; font-size: 14px; font-weight: 700; color: var(--blue); }
.call-card-who { font-size: 13px; color: var(--muted); }
.call-latest-tag { font-family: 'Montserrat', sans-serif; font-size: 9px; font-weight: 700; letter-spacing: 0.1em; background: var(--blue); color: white; padding: 2px 7px; border-radius: 3px; text-transform: uppercase; margin-left: auto; }
.call-card-agreements { font-size: 14px; color: var(--text); line-height: 1.6; white-space: pre-wrap; margin-bottom: 12px; border-left: 3px solid var(--blue-mid); padding-left: 12px; }
.call-card-tasks-label { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); margin-bottom: 8px; }
.call-card-task { display: flex; gap: 8px; font-size: 13px; color: var(--text); line-height: 1.4; margin-bottom: 5px; }
.call-card-task::before { content: '‚Üí'; color: var(--blue); font-weight: 700; flex-shrink: 0; }
.call-delete { position: absolute; top: 14px; right: 14px; background: none; border: none; color: #d1d5db; font-size: 16px; cursor: pointer; padding: 2px 6px; border-radius: 3px; transition: all 0.15s; }
.call-delete:hover { color: #ef4444; background: #fef2f2; }

.call-confirm { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; margin-top: 12px; padding: 12px 14px; background: #fef2f2; border: 1.5px solid #fca5a5; border-radius: 6px; }
.call-confirm span { font-size: 13px; color: #b91c1c; font-weight: 600; flex: 1; min-width: 140px; }
.call-confirm-yes { padding: 7px 14px; background: #ef4444; border: none; border-radius: 4px; color: white; font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700; cursor: pointer; text-transform: uppercase; letter-spacing: 0.05em; }
.call-confirm-yes:hover { background: #dc2626; }
.call-confirm-no { padding: 7px 14px; background: white; border: 1.5px solid #d1d5db; border-radius: 4px; color: #6b7280; font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700; cursor: pointer; text-transform: uppercase; letter-spacing: 0.05em; }
.call-confirm-no:hover { border-color: #9ca3af; }

@media (max-width: 640px) {
  .cf-row { grid-template-columns: 1fr; gap: 0; }
  .db-counters { grid-template-columns: 1fr 1fr; }
}

/* ‚îÄ‚îÄ MODAL EDIT FEATURES ‚îÄ‚îÄ */
.modal-add-btn {
  display: flex; align-items: center; gap: 8px;
  width: 100%; margin-top: 10px; padding: 10px 14px;
  background: var(--blue-light); border: 2px dashed var(--blue-mid);
  border-radius: 6px; color: var(--blue); font-family: 'Montserrat', sans-serif;
  font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.06em;
  cursor: pointer; transition: all 0.18s;
}
.modal-add-btn:hover { background: var(--blue); color: white; border-color: var(--blue); }

.modal-add-form {
  margin-top: 10px; padding: 14px;
  background: var(--bg); border: 2px solid var(--blue-mid); border-radius: 6px;
}
.maf-row { display: flex; gap: 8px; margin-bottom: 8px; flex-wrap: wrap; }
.maf-input {
  flex: 1; min-width: 0; padding: 8px 10px;
  border: 2px solid var(--border); border-radius: 4px;
  font-family: 'Golos Text', sans-serif; font-size: 13px; color: var(--text);
  outline: none; background: white;
}
.maf-input:focus { border-color: var(--blue); }
.maf-select {
  padding: 8px 10px; border: 2px solid var(--border); border-radius: 4px;
  font-family: 'Golos Text', sans-serif; font-size: 13px; color: var(--text);
  background: white; outline: none; cursor: pointer;
}
.maf-select:focus { border-color: var(--blue); }
.maf-time { width: 80px; }
.maf-btns { display: flex; gap: 6px; }
.maf-save {
  flex: 1; padding: 8px; background: var(--blue); border: none; border-radius: 4px;
  color: white; font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700;
  text-transform: uppercase; cursor: pointer; transition: background 0.18s;
}
.maf-save:hover { background: var(--blue-dark); }
.maf-cancel {
  padding: 8px 12px; background: white; border: 1.5px solid var(--border);
  border-radius: 4px; color: var(--muted); font-family: 'Montserrat', sans-serif;
  font-size: 12px; font-weight: 700; text-transform: uppercase; cursor: pointer;
}

.mtask-actions { display: flex; gap: 4px; margin-left: auto; flex-shrink: 0; }
.mtask-del, .mtask-move {
  width: 26px; height: 26px; border: none; border-radius: 4px;
  font-size: 13px; cursor: pointer; display: flex; align-items: center;
  justify-content: center; transition: all 0.15s; background: transparent; color: #9ca3af;
  flex-shrink: 0;
}
.mtask-del:hover { background: #fef2f2; color: #ef4444; }
.mtask-move:hover { background: var(--blue-light); color: var(--blue); }

.move-panel {
  margin-top: 6px; padding: 10px 12px;
  background: var(--blue-light); border: 2px solid var(--blue-mid); border-radius: 6px;
}
.move-panel label { font-family: 'Montserrat', sans-serif; font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; color: var(--muted); display: block; margin-bottom: 6px; }
.move-panel-row { display: flex; gap: 6px; align-items: center; }
.move-date-input {
  flex: 1; padding: 7px 10px; border: 2px solid var(--border); border-radius: 4px;
  font-family: 'Golos Text', sans-serif; font-size: 13px; outline: none; background: white;
}
.move-date-input:focus { border-color: var(--blue); }
.move-confirm {
  padding: 7px 12px; background: var(--blue); border: none; border-radius: 4px;
  color: white; font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700;
  text-transform: uppercase; cursor: pointer;
}
.move-confirm:hover { background: var(--blue-dark); }
.move-cancel {
  padding: 7px 10px; background: white; border: 1.5px solid var(--border);
  border-radius: 4px; color: var(--muted); font-family: 'Montserrat', sans-serif;
  font-size: 12px; cursor: pointer;
}

.mtask.custom-task { border-left: 3px solid var(--gold); }
.custom-badge {
  font-size: 9px; font-family: 'Montserrat', sans-serif; font-weight: 700;
  letter-spacing: 0.08em; text-transform: uppercase; color: var(--gold);
  background: rgba(217,119,6,0.1); padding: 1px 5px; border-radius: 3px; margin-left: 4px;
}

/* PWA Install Banner */
.pwa-banner {
  display: none;
  position: fixed; bottom: calc(20px + env(safe-area-inset-bottom, 0)); left: 50%;
  transform: translateX(-50%);
  background: white; border: 2px solid var(--blue); border-radius: 12px;
  padding: 14px 20px; box-shadow: 0 8px 32px rgba(26,123,196,0.2);
  z-index: 9999; max-width: 340px; width: calc(100% - 32px);
  align-items: center; gap: 12px;
}
.pwa-banner.show { display: flex; }
.pwa-banner-icon { font-size: 28px; flex-shrink: 0; }
.pwa-banner-text { flex: 1; }
.pwa-banner-title { font-family: 'Montserrat', sans-serif; font-size: 13px; font-weight: 700; color: var(--text); margin-bottom: 2px; }
.pwa-banner-sub { font-size: 11px; color: var(--muted); line-height: 1.4; }
.pwa-banner-close { background: none; border: none; color: var(--muted); font-size: 18px; cursor: pointer; padding: 2px; flex-shrink: 0; }
.ios-install-hint {
  display: none;
  position: fixed; bottom: calc(16px + env(safe-area-inset-bottom, 0)); left: 50%;
  transform: translateX(-50%);
  background: #1a1a2e; color: white;
  border-radius: 12px; padding: 14px 18px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  z-index: 9999; max-width: 320px; width: calc(100% - 32px);
  font-size: 13px; line-height: 1.6; text-align: center;
}
.ios-install-hint.show { display: block; }
.ios-hint-close { display: block; margin-top: 10px; color: #6c8fff; font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700; cursor: pointer; text-transform: uppercase; letter-spacing: 0.08em; background: none; border: none; }

.sync-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: #d1d5db; transition: background 0.3s;
  flex-shrink: 0;
}
.sync-dot.synced { background: #10b981; }
.sync-dot.syncing { background: #f59e0b; animation: blink 0.8s infinite; }
@keyframes blink { 0%,100% { opacity: 1; } 50% { opacity: 0.3; } }

/* ‚îÄ‚îÄ DOCS ‚îÄ‚îÄ */
.upload-zone {
  border: 2px dashed var(--blue-mid); border-radius: 6px;
  padding: 32px 20px; text-align: center; cursor: pointer;
  background: var(--blue-light); transition: all 0.18s;
}
.upload-zone:hover, .upload-zone.drag-over { border-color: var(--blue); background: #daeef8; }
.upload-icon { font-size: 36px; margin-bottom: 8px; }
.upload-text { font-family: 'Montserrat', sans-serif; font-size: 14px; font-weight: 700; color: var(--blue); margin-bottom: 4px; }
.upload-sub { font-size: 12px; color: var(--muted); }
.upload-prog-bar { height: 6px; background: var(--blue-mid); border-radius: 3px; overflow: hidden; margin: 12px 0 6px; }
.upload-prog-fill { height: 100%; background: var(--blue); border-radius: 3px; transition: width 0.3s; width: 0%; }
.upload-prog-text { font-size: 12px; color: var(--muted); font-family: 'Montserrat', sans-serif; font-weight: 600; text-align: center; }

.doc-card {
  display: flex; align-items: center; gap: 14px;
  background: white; border: 2px solid var(--border);
  border-radius: 6px; padding: 16px 18px; margin-bottom: 8px;
  transition: border-color 0.15s; position: relative;
}
.doc-card:hover { border-color: var(--blue); }
.doc-icon { font-size: 28px; flex-shrink: 0; }
.doc-info { flex: 1; min-width: 0; }
.doc-name { font-family: 'Montserrat', sans-serif; font-size: 14px; font-weight: 700; color: var(--text); margin-bottom: 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.doc-size { font-size: 11px; color: var(--muted); margin-bottom: 2px; }
.doc-comment { font-size: 12px; color: var(--muted); margin-bottom: 3px; }
.doc-date { font-size: 11px; color: var(--blue-mid); font-family: 'Montserrat', sans-serif; font-weight: 600; }
.doc-actions { display: flex; gap: 6px; flex-shrink: 0; }
.doc-open {
  padding: 9px 18px; background: var(--blue); border: none; border-radius: 4px;
  color: white; font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700;
  text-transform: uppercase; letter-spacing: 0.05em; cursor: pointer; white-space: nowrap;
  text-decoration: none; display: inline-block; transition: background 0.18s;
}
.doc-open:hover { background: var(--blue-dark); }
.doc-del {
  position: absolute; top: 10px; right: 10px;
  background: none; border: none; color: #d1d5db; font-size: 14px;
  cursor: pointer; padding: 3px 6px; border-radius: 3px; transition: all 0.15s;
}
.doc-del:hover { color: #ef4444; background: #fef2f2; }
@media (max-width: 640px) {
  .doc-card { flex-wrap: wrap; gap: 10px; }
  .doc-open { width: 100%; text-align: center; }
}

/* ‚îÄ‚îÄ DOCS ‚îÄ‚îÄ */
.doc-card { background: white; border: 2px solid var(--border); border-radius: 6px; padding: 18px 20px; margin-bottom: 10px; position: relative; }
.doc-card-header { display: flex; align-items: center; gap: 14px; }
.doc-icon { font-size: 28px; flex-shrink: 0; }
.doc-name { font-family: 'Montserrat', sans-serif; font-size: 14px; font-weight: 700; color: var(--text); margin-bottom: 3px; }
.doc-comment { font-size: 12px; color: var(--muted); }
.doc-open-btn { display: inline-block; padding: 8px 16px; background: var(--blue); color: white; border-radius: 4px; font-family: 'Montserrat', sans-serif; font-size: 12px; font-weight: 700; text-decoration: none; text-transform: uppercase; letter-spacing: 0.05em; white-space: nowrap; flex-shrink: 0; transition: background 0.18s; }
.doc-open-btn:hover { background: var(--blue-dark); }
</style>
</head>
<body>

<!-- TOP NAV -->
<nav class="topnav">
  <div class="nav-logo">
    –ó–∞–ø—É—Å–∫<span>–ö–∞—Ä—å–µ—Ä–Ω—ã–π –∫–æ—É—á–∏–Ω–≥ ¬∑ 2026</span>
  </div>
  <div class="sync-dot" id="syncDot" title="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è"></div>
  <div class="nav-tabs">
    <button class="nav-tab active" onclick="showPage('strategy', this)">üìã –°—Ç—Ä–∞—Ç–µ–≥–∏—è</button>
    <button class="nav-tab" onclick="showPage('calendar', this)">üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
    <button class="nav-tab" onclick="showPage('dashboard', this)">üìä –î–∞—à–±–æ—Ä–¥</button>
    <button class="nav-tab" onclick="showPage('calls', this)">üí¨ –°–æ–∑–≤–æ–Ω—ã</button>
    <button class="nav-tab" onclick="showPage('docs', this)">üìÅ –î–æ–∫—É–º–µ–Ω—Ç—ã</button>
  </div>
  <button class="burger" onclick="toggleMenu()" id="burger">
    <span></span><span></span><span></span>
  </button>
</nav>
<div class="mobile-menu" id="mobileMenu">
  <button class="mobile-tab active" onclick="showPage('strategy', this); toggleMenu()">üìã –°—Ç—Ä–∞—Ç–µ–≥–∏—è</button>
  <button class="mobile-tab" onclick="showPage('calendar', this); toggleMenu()">üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
  <button class="mobile-tab" onclick="showPage('dashboard', this); toggleMenu()">üìä –î–∞—à–±–æ—Ä–¥</button>
  <button class="mobile-tab" onclick="showPage('calls', this); toggleMenu()">üí¨ –°–æ–∑–≤–æ–Ω—ã</button>
  <button class="mobile-tab" onclick="showPage('docs', this); toggleMenu()">üìÅ –î–æ–∫—É–º–µ–Ω—Ç—ã</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STRATEGY PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page active" id="page-strategy">
  <div class="page-hero">
    <div class="page-hero-inner">
      <div class="hero-tag">–ü—Ä–æ–¥—é—Å–µ—Ä—Å–∫–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è ¬∑ 2026</div>
      <h2>–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–ø—É—Å–∫–∞</h2>
      <div class="hero-sub">22 —Ñ–µ–≤—Ä–∞–ª—è ‚Äî 2 –º–∞—è ¬∑ Telegram ¬∑ –Ø–Ω–¥–µ–∫—Å –î–∏—Ä–µ–∫—Ç</div>
    </div>
  </div>
  <div class="wrap">
<!-- FUNNEL -->
<div class="s-section">
  <div class="section-title">–í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂</div>
  <div class="funnel-row">
    <div class="f-step"><div class="f-ico">üì£</div><div class="f-name">–†–µ–∫–ª–∞–º–∞</div><div class="f-info">–Ø–Ω–¥–µ–∫—Å –î–∏—Ä–µ–∫—Ç ¬∑ 150 000 ‚ÇΩ</div></div>
    <div class="f-arr">‚Üí</div>
    <div class="f-step"><div class="f-ico">üåê</div><div class="f-name">–õ–µ–Ω–¥–∏–Ω–≥</div><div class="f-info">–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç —Å –æ—Ñ—Ñ–µ—Ä–æ–º</div></div>
    <div class="f-arr">‚Üí</div>
    <div class="f-step"><div class="f-ico">üì≤</div><div class="f-name">Telegram</div><div class="f-info">–ö–∞–Ω–∞–ª ~1500 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</div></div>
    <div class="f-arr">‚Üí</div>
    <div class="f-step"><div class="f-ico">üé¨</div><div class="f-name">–í–∏–¥–µ–æ-—Å–µ—Ä–∏—è</div><div class="f-info">3 –≤–∏–¥–µ–æ √ó 10 –º–∏–Ω –≤ –∑–∞–∫—Ä–µ–ø–µ</div></div>
    <div class="f-arr">‚Üí</div>
    <div class="f-step"><div class="f-ico">üî•</div><div class="f-name">–ü—Ä–æ–≥—Ä–µ–≤</div><div class="f-info">3‚Äì4 –ø–æ—Å—Ç–∞ –≤ –Ω–µ–¥–µ–ª—é</div></div>
    <div class="f-arr">‚Üí</div>
    <div class="f-step"><div class="f-ico">üéØ</div><div class="f-name">–ü—Ä–æ–¥–∞–∂–∏</div><div class="f-info">4 –æ–∫–Ω–∞ –ø—Ä–æ–¥–∞–∂</div></div>
  </div>
</div>

<!-- SALES WINDOWS -->
<div class="s-section">
  <div class="section-title">–û–∫–Ω–∞ –ø—Ä–æ–¥–∞–∂</div>
  <div class="sw-grid">
    <div class="sw-card sw1">
      <div class="sw-num">–û–ö–ù–û 01</div>
      <div class="sw-name">–í–∏–¥–µ–æ-–≤–æ—Ä–æ–Ω–∫–∞ –≤ –∑–∞–∫—Ä–µ–ø–µ</div>
      <div class="sw-desc">–ß–µ–ª–æ–≤–µ–∫ —Å–º–æ—Ç—Ä–∏—Ç 3 –≤–∏–¥–µ–æ –∏ —Å—Ä–∞–∑—É –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞—è–≤–∫—É. –°–∞–º—ã–µ –≥–æ—Ä—è—á–∏–µ –ª–∏–¥—ã.</div>
    </div>
    <div class="sw-card sw2">
      <div class="sw-num">–û–ö–ù–û 02</div>
      <div class="sw-name">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∏–Ω—Ç–µ–Ω—Å–∏–≤</div>
      <div class="sw-desc">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞. –ê–Ω–∫–µ—Ç–∞ –≤ –∫–æ–Ω—Ü–µ. –°–æ–∑–≤–æ–Ω —Å –∫–æ—É—á–µ–º 30 –º–∏–Ω –≤ Zoom.</div>
    </div>
    <div class="sw-card sw3">
      <div class="sw-num">–û–ö–ù–û 03</div>
      <div class="sw-name">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤</div>
      <div class="sw-desc">–ú–µ—Ö–∞–Ω–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–∏–º –ø–æ –∏—Ç–æ–≥–∞–º –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞. –î–ª—è —Ç–µ—Ö –∫—Ç–æ –±—ã–ª, –Ω–æ –Ω–µ –∫—É–ø–∏–ª.</div>
    </div>
    <div class="sw-card sw4">
      <div class="sw-num">–û–ö–ù–û 04</div>
      <div class="sw-name">–û—Ç–∫—Ä—ã—Ç—ã–µ –ø—Ä–æ–¥–∞–∂–∏</div>
      <div class="sw-desc">–ü–æ—Å—Ç –≤ –∫–∞–Ω–∞–ª–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –º–µ—Å—Ç–∞–º–∏ –∏ –∂—ë—Å—Ç–∫–∏–º –¥–µ–¥–ª–∞–π–Ω–æ–º.</div>
    </div>
  </div>
</div>

<!-- HORIZONTAL TIMELINE -->
<div class="htimeline-section">
  <div class="section-title">–¢–∞–π–º–ª–∞–π–Ω –∑–∞–ø—É—Å–∫–∞</div>
  <div class="htimeline-scroll" id="htScroll">
    <div class="htimeline">

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot today" style="background:var(--accent1)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 1</div>
          <div class="ht-dates">22‚Äì28 —Ñ–µ–≤</div>
          <div class="ht-phase-tag" style="background:rgba(108,143,255,0.15);color:var(--accent1)">–§—É–Ω–¥–∞–º–µ–Ω—Ç</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–°–æ–∑–≤–æ–Ω —Å –∫–æ—É—á–µ–º</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–ü–æ—Ä—Ç—Ä–µ—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–°–æ–∑–≤–æ–Ω —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∞</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–û—Ñ—Ñ–µ—Ä –∏ –£–¢–ü + –¢–ó —Å–∞–π—Ç–∞</div>
          </div>
        </div>
      </div>

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot" style="background:var(--accent1)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 2</div>
          <div class="ht-dates">1‚Äì7 –º–∞—Ä</div>
          <div class="ht-phase-tag" style="background:rgba(108,143,255,0.15);color:var(--accent1)">–§—É–Ω–¥–∞–º–µ–Ω—Ç</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–£–ø–∞–∫–æ–≤–∫–∞ –∫–∞–Ω–∞–ª–∞</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω 6 –Ω–µ–¥</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–°–∞–π—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>3 –≤–∏–¥–µ–æ √ó 10 –º–∏–Ω</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–ü–µ—Ä–≤—ã–µ 7‚Äì8 –ø–æ—Å—Ç–æ–≤</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent1)">‚óè</span>–ü—Ä–∏—ë–º–∫–∞ —Å–∞–π—Ç–∞</div>
          </div>
        </div>
      </div>

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot" style="background:var(--accent3)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 3</div>
          <div class="ht-dates">9‚Äì14 –º–∞—Ä</div>
          <div class="ht-phase-tag" style="background:rgba(52,211,153,0.15);color:var(--accent3)">–¢—Ä–∞—Ñ–∏–∫</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>üöÄ –ó–∞–ø—É—Å–∫ –î–∏—Ä–µ–∫—Ç</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–ü–µ—Ä–≤—ã–π –ø–æ—Å—Ç –≤ –∫–∞–Ω–∞–ª–µ</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–†–∞–∑–±–æ—Ä —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º</div>
          </div>
        </div>
      </div>

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot" style="background:var(--accent3)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 4</div>
          <div class="ht-dates">16‚Äì21 –º–∞—Ä</div>
          <div class="ht-phase-tag" style="background:rgba(52,211,153,0.15);color:var(--accent3)">–¢—Ä–∞—Ñ–∏–∫</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–π</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–õ–∏—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∫–æ—É—á–∞</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–ê–Ω–∞–ª–∏–∑ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏</div>
          </div>
        </div>
      </div>

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot" style="background:var(--accent3)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 5</div>
          <div class="ht-dates">23‚Äì28 –º–∞—Ä</div>
          <div class="ht-phase-tag" style="background:rgba(52,211,153,0.15);color:var(--accent3)">–¢—Ä–∞—Ñ–∏–∫</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–†–∞–∑–±–æ—Ä ~50‚Äì60–∫ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–í–æ–≤–ª–µ–∫–∞—é—â–∏–π –ø–æ—Å—Ç-–æ–ø—Ä–æ—Å</div>
          </div>
        </div>
      </div>

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot" style="background:var(--accent3)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 6</div>
          <div class="ht-dates">30 –º–∞—Ä‚Äì4 –∞–ø—Ä</div>
          <div class="ht-phase-tag" style="background:rgba(52,211,153,0.15);color:var(--accent3)">–¢—Ä–∞—Ñ–∏–∫</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–†–∞–∑–±–æ—Ä ~100–∫ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –±–æ—Ç–∞</div>
          </div>
        </div>
      </div>

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot" style="background:var(--accent3)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 7</div>
          <div class="ht-dates">6‚Äì11 –∞–ø—Ä</div>
          <div class="ht-phase-tag" style="background:rgba(52,211,153,0.15);color:var(--accent3)">–ü—Ä–æ–≥—Ä–µ–≤</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>ü§ñ –ë–æ—Ç –≥–æ—Ç–æ–≤</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–ê–Ω–æ–Ω—Å –¥–∞—Ç—ã –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–ê–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–≥—Ä–µ–≤</div>
          </div>
        </div>
      </div>

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot" style="background:var(--accent3)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 8</div>
          <div class="ht-dates">13‚Äì18 –∞–ø—Ä</div>
          <div class="ht-phase-tag" style="background:rgba(52,211,153,0.15);color:var(--accent3)">–ü—Ä–æ–≥—Ä–µ–≤</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>üõë –¢—Ä–∞—Ñ–∏–∫ —Å—Ç–æ–ø</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∏–Ω—Ç–µ–Ω—Å–∏–≤</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–í–∏–¥–µ–æ-–∞–Ω–æ–Ω—Å –∫–æ—É—á–∞</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent3)">‚óè</span>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞–Ω–∫–µ—Ç—ã</div>
          </div>
        </div>
      </div>

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot" style="background:var(--accent4)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 9</div>
          <div class="ht-dates">20‚Äì25 –∞–ø—Ä</div>
          <div class="ht-phase-tag" style="background:rgba(249,115,22,0.15);color:var(--accent4)">–ü—Ä–æ–¥–∞–∂–∏</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent4)">‚óè</span>–§–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ–≤</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent4)">‚óè</span>üéì –ò–Ω—Ç–µ–Ω—Å–∏–≤ + –∞–Ω–∫–µ—Ç–∞</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--accent4)">‚óè</span>–°–æ–∑–≤–æ–Ω—ã –≤ Zoom 30 –º–∏–Ω</div>
          </div>
        </div>
      </div>

      <div class="ht-week">
        <div class="ht-dot-wrap"><div class="ht-dot" style="background:var(--gold)"></div></div>
        <div class="ht-content">
          <div class="ht-week-label">–ù–µ–¥–µ–ª—è 10</div>
          <div class="ht-dates">27 –∞–ø—Ä‚Äì2 –º–∞—è</div>
          <div class="ht-phase-tag" style="background:rgba(251,191,36,0.15);color:var(--gold)">–î–æ–ø—Ä–æ–¥–∞–∂–∏</div>
          <div class="ht-tasks">
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--gold)">‚óè</span>–û–∫–Ω–æ –ø—Ä–æ–¥–∞–∂ ‚Ññ3</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--gold)">‚óè</span>üí∞ –û—Ç–∫—Ä—ã—Ç—ã–µ –ø—Ä–æ–¥–∞–∂–∏</div>
            <div class="ht-task"><span class="ht-task-bullet" style="color:var(--gold)">‚óè</span>–ó–∞–∫—Ä—ã—Ç–∏–µ –∑–∞–ø—É—Å–∫–∞</div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>



<!-- TIMELINE -->
<div class="timeline-section">
  <div class="section-title">–î–µ—Ç–∞–ª–∏ –ø–æ —ç—Ç–∞–ø–∞–º</div>
  <div class="timeline">

    <!-- –≠–¢–ê–ü 1 -->
    <div class="phase p1 open">
      <div class="phase-header" onclick="toggle(this)">
        <div class="phase-dot"></div>
        <div class="phase-meta">
          <div class="phase-name">–≠—Ç–∞–ø 1 ‚Äî –§—É–Ω–¥–∞–º–µ–Ω—Ç</div>
          <div class="phase-dates">22 —Ñ–µ–≤—Ä–∞–ª—è ‚Äî 7 –º–∞—Ä—Ç–∞ ¬∑ –ù–µ–¥–µ–ª–∏ 1‚Äì2</div>
        </div>
        <div class="phase-badge">–°–µ–π—á–∞—Å</div>
        <div class="phase-chevron">‚ñº</div>
      </div>
      <div class="phase-body">

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 1</span><span class="split-wdates">22 (–≤—Å) ‚Äî 28 (—Å–±) —Ñ–µ–≤—Ä–∞–ª—è</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">22 –≤—Å</span><span class="stask-time">~1 —á</span><span class="stask-text">–°–æ–∑–≤–æ–Ω —Å –∫–æ—É—á–µ–º, —Ñ–∏–∫—Å–∏—Ä—É–µ–º –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ –∏ –¥–µ–¥–ª–∞–π–Ω—ã</span></div>
              <div class="stask"><span class="stask-day">23‚Äì24 –ø–Ω-–≤—Ç</span><span class="stask-time">~4 —á</span><span class="stask-text">–ê–Ω–∞–ª–∏–∑ 10‚Äì15 –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ + –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ 2‚Äì3 –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞. –í—Ç 16:00 —Å–æ–∑–≤–æ–Ω —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º</span></div>
              <div class="stask"><span class="stask-day">27 –ø—Ç</span><span class="stask-time">~2 —á</span><span class="stask-text">–§–æ—Ä–º—É–ª–∏—Ä—É–µ–º –æ—Ñ—Ñ–µ—Ä –∏ –£–¢–ü. –ü–µ—Ä–µ–¥–∞—ë–º –¢–ó —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —Å–∞–π—Ç–∞</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">22 –≤—Å</span><span class="stask-time">~1 —á</span><span class="stask-text">–°–æ–∑–≤–æ–Ω —Å –ø—Ä–æ–¥—é—Å–µ—Ä–æ–º ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ–º —É—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã</span></div>
              <div class="stask"><span class="stask-day">25‚Äì26 —Å—Ä-—á—Ç</span><span class="stask-time">~2 —á</span><span class="stask-text">–í—Å—Ç—Ä–µ—á–∞ —Å –ø—Ä–æ–¥—é—Å–µ—Ä–æ–º: —Ñ–∏–∫—Å–∏—Ä—É–µ–º —Ñ–æ—Ä–º–∞—Ç, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ü–µ–Ω—É –∏ —Å–æ—Å—Ç–∞–≤ –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–∞</span></div>
              <div class="stask"><span class="stask-day">27 –ø—Ç</span><span class="stask-time">~1 —á</span><span class="stask-text">–°–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ñ—Ñ–µ—Ä –∏ –£–¢–ü</span></div>
            </div>
          </div>
        </div>

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 2</span><span class="split-wdates">1 (–≤—Å) ‚Äî 7 (—Å–±) –º–∞—Ä—Ç–∞ ¬∑ 8 –º–∞—Ä—Ç–∞ ‚Äî –ø—Ä–∞–∑–¥–Ω–∏–∫</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">2‚Äì3 –ø–Ω-–≤—Ç</span><span class="stask-time">~3 —á</span><span class="stask-text">–£–ø–∞–∫–æ–≤–∫–∞ Telegram –∫–∞–Ω–∞–ª–∞: –æ–ø–∏—Å–∞–Ω–∏–µ, –∑–∞–∫—Ä–µ–ø, –∞–≤–∞—Ç–∞—Ä–∫–∞, –æ–±–ª–æ–∂–∫–∞</span></div>
              <div class="stask"><span class="stask-day">2‚Äì3 –ø–Ω-–≤—Ç</span><span class="stask-time">~3 —á</span><span class="stask-text">–ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –Ω–∞ 6 –Ω–µ–¥–µ–ª—å: —Ä—É–±—Ä–∏–∫–∏, —Ç–µ–º—ã, –¥–∞—Ç—ã</span></div>
              <div class="stask"><span class="stask-day">4‚Äì5 —Å—Ä-—á—Ç</span><span class="stask-time">~2 —á</span><span class="stask-text">–ü–µ—Ä–µ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤, –º–æ–Ω—Ç–∞–∂ –∏ –æ–±—Ä–µ–∑–∫–∞ 3 –≤–∏–¥–µ–æ</span></div>
              <div class="stask"><span class="stask-day">6 –ø—Ç</span><span class="stask-time">~2 —á</span><span class="stask-text">–ü—Ä–∏—ë–º–∫–∞ —Å–∞–π—Ç–∞, —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ç—Ä–∞—Ñ–∏–∫–∞</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">2‚Äì5 –ø–Ω-—á—Ç</span><span class="stask-time">~3 —á</span><span class="stask-text">–ù–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–µ 7‚Äì8 –ø–æ—Å—Ç–æ–≤ –ø–æ —Ç–µ–º–∞–º –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω–∞</span></div>
              <div class="stask"><span class="stask-day">4‚Äì5 —Å—Ä-—á—Ç</span><span class="stask-time">~3 —á</span><span class="stask-text">–ó–∞–ø–∏—Å–∞—Ç—å 3 –≤–∏–¥–µ–æ √ó 10 –º–∏–Ω –¥–ª—è –∑–∞–∫—Ä–µ–ø–∞ (–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è + –∑–∞–ø–∏—Å—å —ç–∫—Ä–∞–Ω–∞)</span></div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- –≠–¢–ê–ü 2 -->
    <div class="phase p2">
      <div class="phase-header" onclick="toggle(this)">
        <div class="phase-dot"></div>
        <div class="phase-meta">
          <div class="phase-name">–≠—Ç–∞–ø 2 ‚Äî –¢—Ä–∞—Ñ–∏–∫ –∏ –ø—Ä–æ–≥—Ä–µ–≤</div>
          <div class="phase-dates">9 –º–∞—Ä—Ç–∞ ‚Äî 18 –∞–ø—Ä–µ–ª—è ¬∑ –ù–µ–¥–µ–ª–∏ 3‚Äì8</div>
        </div>
        <div class="phase-badge">150 000 ‚ÇΩ –Ω–∞ –î–∏—Ä–µ–∫—Ç</div>
        <div class="phase-chevron">‚ñº</div>
      </div>
      <div class="phase-body">

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 3</span><span class="split-wdates">9 (–ø–Ω) ‚Äî 14 (—Å–±) –º–∞—Ä—Ç–∞</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">9 –ø–Ω</span><span class="stask-time">~1 —á</span><span class="stask-text">–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —Å–∞–π—Ç, –∫–∞–Ω–∞–ª, –∑–∞–∫—Ä–µ–ø, –≤–∏–¥–µ–æ ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç</span></div>
              <div class="stask"><span class="stask-day">10 –≤—Ç</span><span class="stask-time">~30 –º–∏–Ω</span><span class="stask-text">–î–∞—ë–º —Å—Ç–∞—Ä—Ç —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥—É. –ü—É–±–ª–∏–∫—É–µ–º –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç</span></div>
              <div class="stask"><span class="stask-day">13 –ø—Ç</span><span class="stask-time">~1 —á</span><span class="stask-text">–†–∞–∑–±–æ—Ä —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º: —Ü–µ–Ω–∞ –∫–ª–∏–∫–∞, —Ü–µ–Ω–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞, –ø–µ—Ä–≤—ã–µ –≤—ã–≤–æ–¥—ã</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">–ü–Ω-–ø—Ç</span><span class="stask-time">~2 —á/–Ω–µ–¥</span><span class="stask-text">–ü–∏—Å–∞—Ç—å –ø–æ—Å—Ç—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø—Ä–æ–¥—é—Å–µ—Ä–∞ (3‚Äì4 –ø–æ—Å—Ç–∞ –≤ –Ω–µ–¥–µ–ª—é). –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –Ω–∞ –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥ —Ç—Ä–∞—Ñ–∏–∫–∞</span></div>
            </div>
          </div>
        </div>

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 4</span><span class="split-wdates">16 (–ø–Ω) ‚Äî 21 (—Å–±) –º–∞—Ä—Ç–∞</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">16 –ø–Ω</span><span class="stask-time">~1 —á</span><span class="stask-text">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–π –ø–æ –¥–∞–Ω–Ω—ã–º –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏</span></div>
              <div class="stask"><span class="stask-day">19‚Äì20 —á—Ç-–ø—Ç</span><span class="stask-time">~1 —á</span><span class="stask-text">–ê–Ω–∞–ª–∏–∑ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–æ–≤, –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω–∞</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">17‚Äì18 –≤—Ç-—Å—Ä</span><span class="stask-time">~1.5 —á</span><span class="stask-text">–ù–∞–ø–∏—Å–∞—Ç—å –∫–ª—é—á–µ–≤–æ–π –ø–æ—Å—Ç ‚Äî –ª–∏—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è: –æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à—ë–ª, –ø–æ—á–µ–º—É –∫–∞—Ä—å–µ—Ä–Ω—ã–π –∫–æ—É—á–∏–Ω–≥</span></div>
              <div class="stask"><span class="stask-day">–ü–Ω-–ø—Ç</span><span class="stask-time">~2 —á/–Ω–µ–¥</span><span class="stask-text">–ü–æ—Å—Ç—ã –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω—É</span></div>
            </div>
          </div>
        </div>

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 5</span><span class="split-wdates">23 (–ø–Ω) ‚Äî 28 (—Å–±) –º–∞—Ä—Ç–∞</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">23 –ø–Ω</span><span class="stask-time">~1 —á</span><span class="stask-text">–†–∞–∑–±–æ—Ä —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º. ~50‚Äì60–∫ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–∞</span></div>
              <div class="stask"><span class="stask-day">24‚Äì25 –≤—Ç-—Å—Ä</span><span class="stask-time">~1 —á</span><span class="stask-text">–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ —Ä–µ–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º —Ç—Ä–∞—Ñ–∏–∫–∞</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">26‚Äì27 —á—Ç-–ø—Ç</span><span class="stask-time">~30 –º–∏–Ω</span><span class="stask-text">–ù–∞–ø–∏—Å–∞—Ç—å –≤–æ–≤–ª–µ–∫–∞—é—â–∏–π –ø–æ—Å—Ç-–≤–æ–ø—Ä–æ—Å –∫ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ –∏—Ö –∫–∞—Ä—å–µ—Ä–Ω—ã–µ –±–æ–ª–∏</span></div>
              <div class="stask"><span class="stask-day">–ü–Ω-–ø—Ç</span><span class="stask-time">~2 —á/–Ω–µ–¥</span><span class="stask-text">–ü–æ—Å—Ç—ã –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω—É</span></div>
            </div>
          </div>
        </div>

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 6</span><span class="split-wdates">30 (–ø–Ω) –º–∞—Ä—Ç–∞ ‚Äî 4 (—Å–±) –∞–ø—Ä–µ–ª—è</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">2‚Äì3 —Å—Ä-—á—Ç</span><span class="stask-time">~1 —á</span><span class="stask-text">–†–∞–∑–±–æ—Ä —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º. ~100–∫ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ. –†–µ—à–∞–µ–º –∫–∞–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤–∞—Ç—å –æ—Å—Ç–∞—Ç–æ–∫</span></div>
              <div class="stask"><span class="stask-day">2‚Äì3 —Å—Ä-—á—Ç</span><span class="stask-time">~2 —á</span><span class="stask-text">–ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –±–æ—Ç–∞ (—Ü–µ–ø–æ—á–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –∏–Ω—Ç–µ–Ω—Å–∏–≤–æ–º)</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">30 –ø–Ω</span><span class="stask-time">~3 —á</span><span class="stask-text">‚ö†Ô∏è –ù–∞—á–∞—Ç—å –¥–µ–ª–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞ ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–µ–¥–µ–ª–∏</span></div>
              <div class="stask"><span class="stask-day">–ü–Ω-–ø—Ç</span><span class="stask-time">~2 —á/–Ω–µ–¥</span><span class="stask-text">–ü–æ—Å—Ç—ã –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω—É</span></div>
            </div>
          </div>
        </div>

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 7</span><span class="split-wdates">6 (–ø–Ω) ‚Äî 11 (—Å–±) –∞–ø—Ä–µ–ª—è</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">6 –ø–Ω</span><span class="stask-time">~2 —á</span><span class="stask-text">–ë–æ—Ç –≥–æ—Ç–æ–≤ –∏ –∑–∞–ø—É—â–µ–Ω. –ü—É–±–ª–∏–∫—É–µ–º –∞–Ω–æ–Ω—Å-–ø–æ—Å—Ç —Å –¥–∞—Ç–æ–π –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞</span></div>
              <div class="stask"><span class="stask-day">9‚Äì10 —á—Ç-–ø—Ç</span><span class="stask-time">~1 —á</span><span class="stask-text">–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Ç—Ä–∞—Ñ–∏–∫–∞</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">9‚Äì10 —á—Ç-–ø—Ç</span><span class="stask-time">~2 —á</span><span class="stask-text">‚ö†Ô∏è –§–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞ ‚Äî –¥–µ–¥–ª–∞–π–Ω</span></div>
              <div class="stask"><span class="stask-day">–ü–Ω-–ø—Ç</span><span class="stask-time">~2 —á/–Ω–µ–¥</span><span class="stask-text">–ü–æ—Å—Ç—ã –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω—É</span></div>
            </div>
          </div>
        </div>

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 8</span><span class="split-wdates">13 (–ø–Ω) ‚Äî 18 (—Å–±) –∞–ø—Ä–µ–ª—è</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">13 –ø–Ω</span><span class="stask-time">~30 –º–∏–Ω</span><span class="stask-text">–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç—Ä–∞—Ñ–∏–∫. –ü—É–±–ª–∏–∫—É–µ–º –∞–Ω–æ–Ω—Å –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ –±–æ—Ç–∞</span></div>
              <div class="stask"><span class="stask-day">16‚Äì17 —á—Ç-–ø—Ç</span><span class="stask-time">~1 —á</span><span class="stask-text">–°–ª–µ–¥–∏–º –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è–º–∏. –ü—É–±–ª–∏–∫—É–µ–º –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è. –ì–æ—Ç–æ–≤–∏–º –∞–Ω–∫–µ—Ç—É</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">14‚Äì15 –≤—Ç-—Å—Ä</span><span class="stask-time">~30 –º–∏–Ω</span><span class="stask-text">–ó–∞–ø–∏—Å–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ-–∞–Ω–æ–Ω—Å: –ø–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –ø—Ä–∏–π—Ç–∏ –Ω–∞ –∏–Ω—Ç–µ–Ω—Å–∏–≤</span></div>
              <div class="stask"><span class="stask-day">–ü–Ω-–ø—Ç</span><span class="stask-time">~1 —á/–Ω–µ–¥</span><span class="stask-text">–ê–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–≥—Ä–µ–≤ –ø–æ—Å—Ç–∞–º–∏ –∫ –∏–Ω—Ç–µ–Ω—Å–∏–≤—É</span></div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- –≠–¢–ê–ü 3 -->
    <div class="phase p3">
      <div class="phase-header" onclick="toggle(this)">
        <div class="phase-dot"></div>
        <div class="phase-meta">
          <div class="phase-name">–≠—Ç–∞–ø 3 ‚Äî –ò–Ω—Ç–µ–Ω—Å–∏–≤ –∏ –ø—Ä–æ–¥–∞–∂–∏</div>
          <div class="phase-dates">20 –∞–ø—Ä–µ–ª—è ‚Äî 2 –º–∞—è ¬∑ –ù–µ–¥–µ–ª–∏ 9‚Äì10</div>
        </div>
        <div class="phase-badge">–î–µ–Ω—å–≥–∏</div>
        <div class="phase-chevron">‚ñº</div>
      </div>
      <div class="phase-body">

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 9</span><span class="split-wdates">20 (–ø–Ω) ‚Äî 25 (—Å–±) –∞–ø—Ä–µ–ª—è</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">20 –ø–Ω</span><span class="stask-time">~30 –º–∏–Ω</span><span class="stask-text">–§–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞</span></div>
              <div class="stask"><span class="stask-day">21‚Äì22 –≤—Ç-—Å—Ä</span><span class="stask-time">~2 —á</span><span class="stask-text">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞: —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è, —á–∞—Ç, –∞–Ω–∫–µ—Ç–∞</span></div>
              <div class="stask"><span class="stask-day">23‚Äì24 —á—Ç-–ø—Ç</span><span class="stask-time">~1 —á</span><span class="stask-text">–ü–æ—Å—Ç-–±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å. –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º —á—Ç–æ –∫–æ—É—á –≤—ã—Ö–æ–¥–∏—Ç –Ω–∞ —Å–æ–∑–≤–æ–Ω—ã</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">21‚Äì22 –≤—Ç-—Å—Ä</span><span class="stask-time">~2 —á</span><span class="stask-text">–ü—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤. –í –∫–æ–Ω—Ü–µ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É</span></div>
              <div class="stask"><span class="stask-day">23‚Äì24 —á—Ç-–ø—Ç</span><span class="stask-time">~4‚Äì8 —á</span><span class="stask-text">‚ö° –°–æ–∑–≤–æ–Ω—ã 30 –º–∏–Ω –≤ Zoom —Å –∫–∞–∂–¥—ã–º –∫—Ç–æ –∑–∞–ø–æ–ª–Ω–∏–ª –∞–Ω–∫–µ—Ç—É. –ó–∞–∫—Ä—ã—Ç–∏–µ –Ω–∞ –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–æ</span></div>
            </div>
          </div>
        </div>

        <div class="split-week">
          <div class="split-week-title"><span class="split-wnum">–ù–µ–¥–µ–ª—è 10</span><span class="split-wdates">27 (–ø–Ω) –∞–ø—Ä–µ–ª—è ‚Äî 2 (—Å–±) –º–∞—è</span></div>
          <div class="split-cols">
            <div class="split-col prod-col">
              <div class="split-role-label prod-label">üéØ –ü—Ä–æ–¥—é—Å–µ—Ä</div>
              <div class="stask"><span class="stask-day">27 –ø–Ω</span><span class="stask-time">~1 —á</span><span class="stask-text">–ó–∞–ø—É—Å–∫ –æ–∫–Ω–∞ –ø—Ä–æ–¥–∞–∂ ‚Ññ3 ‚Äî –º–µ—Ö–∞–Ω–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–∏–º –ø–æ–∑–∂–µ</span></div>
              <div class="stask"><span class="stask-day">1 –º–∞—è –ø—Ç</span><span class="stask-time">~30 –º–∏–Ω</span><span class="stask-text">–ü–æ—Å—Ç —Å –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏ –∏ –¥–µ–¥–ª–∞–π–Ω–æ–º. –ó–∞–∫—Ä—ã–≤–∞–µ–º –∑–∞–ø—É—Å–∫</span></div>
            </div>
            <div class="split-col expert-col">
              <div class="split-role-label expert-label">üé§ –≠–∫—Å–ø–µ—Ä—Ç</div>
              <div class="stask"><span class="stask-day">27‚Äì29 –ø–Ω-—Å—Ä</span><span class="stask-time">~2‚Äì4 —á</span><span class="stask-text">–£—á–∞—Å—Ç–∏–µ –≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–∫–Ω–∞ ‚Ññ3. –õ–∏—á–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã–º–∏</span></div>
              <div class="stask"><span class="stask-day">1 –º–∞—è –ø—Ç</span><span class="stask-time">~1 —á</span><span class="stask-text">–§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–æ–∑–≤–æ–Ω—ã —Å —Ç–µ–º–∏ –∫—Ç–æ –µ—â—ë –Ω–µ –ø—Ä–∏–Ω—è–ª —Ä–µ—à–µ–Ω–∏–µ</span></div>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>



<!-- BUDGET -->
<div class="budget-section">
  <div class="section-title">–ë—é–¥–∂–µ—Ç</div>
  <div class="budget-grid">
    <div class="budget-card">
      <div class="budget-label">–Ø–Ω–¥–µ–∫—Å –î–∏—Ä–µ–∫—Ç</div>
      <div class="budget-amount">150 000 <span>‚ÇΩ</span></div>
      <div class="budget-note">~25 000 ‚ÇΩ/–Ω–µ–¥ ¬∑ 6 –Ω–µ–¥–µ–ª—å</div>
    </div>
    <div class="budget-card">
      <div class="budget-label">–ö–æ–º–∞–Ω–¥–∞</div>
      <div class="budget-amount">40 000 <span>‚ÇΩ</span></div>
      <div class="budget-note">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∞–π—Ç–∞ –∏ –¥—Ä.</div>
    </div>
    <div class="budget-card">
      <div class="budget-label">–†–µ–∑–µ—Ä–≤</div>
      <div class="budget-amount">30 000 <span>‚ÇΩ</span></div>
      <div class="budget-note">–ù–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã</div>
    </div>
    <div class="budget-card">
      <div class="budget-label">–ò—Ç–æ–≥–æ</div>
      <div class="budget-amount">220 000 <span>‚ÇΩ</span></div>
      <div class="budget-note">–û–±—â–∏–π –±—é–¥–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞</div>
    </div>
  </div>
</div>



<!-- RESPONSIBLE -->
<div class="resp-section">
  <div class="section-title">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ</div>
  <div class="resp-grid">
    <div class="resp-card">
      <div class="resp-who">
        <div class="resp-icon" style="background:rgba(108,143,255,0.15)">üéØ</div>
        –ü—Ä–æ–¥—é—Å–µ—Ä
      </div>
      <div class="resp-item">–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è</div>
      <div class="resp-item">–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏ —Ä—ã–Ω–∫–∞</div>
      <div class="resp-item">–ü–µ—Ä–µ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤</div>
      <div class="resp-item">–ú–æ–Ω—Ç–∞–∂ –≤–∏–¥–µ–æ-—Å–µ—Ä–∏–∏</div>
      <div class="resp-item">–£–ø–∞–∫–æ–≤–∫–∞ –∫–∞–Ω–∞–ª–∞</div>
      <div class="resp-item">–ë–æ—Ç –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</div>
    </div>
    <div class="resp-card">
      <div class="resp-who">
        <div class="resp-icon" style="background:rgba(167,139,250,0.15)">üé§</div>
        –ö–æ—É—á
      </div>
      <div class="resp-item">–ù–∞–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤</div>
      <div class="resp-item">–ó–∞–ø–∏—Å—å 3 –≤–∏–¥–µ–æ –¥–ª—è –∑–∞–∫—Ä–µ–ø–∞</div>
      <div class="resp-item">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞</div>
      <div class="resp-item">–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞</div>
      <div class="resp-item">–°–æ–∑–≤–æ–Ω—ã —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏</div>
    </div>
    <div class="resp-card">
      <div class="resp-who">
        <div class="resp-icon" style="background:rgba(52,211,153,0.15)">üìä</div>
        –¢–∞—Ä–≥–µ—Ç–æ–ª–æ–≥
      </div>
      <div class="resp-item">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ø–Ω–¥–µ–∫—Å –î–∏—Ä–µ–∫—Ç</div>
      <div class="resp-item">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</div>
      <div class="resp-item">–û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –ø–æ —Ç—Ä–∞—Ñ–∏–∫—É</div>
    </div>
    <div class="resp-card">
      <div class="resp-who">
        <div class="resp-icon" style="background:rgba(249,115,22,0.15)">üíª</div>
        –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫
      </div>
      <div class="resp-item">–õ–µ–Ω–¥–∏–Ω–≥ (–æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç)</div>
      <div class="resp-item">–°—Ä–æ–∫: 1‚Äì7 –º–∞—Ä—Ç–∞</div>
    </div>
  </div>
</div>


  </div><!-- /wrap strategy -->
</div><!-- /page-strategy -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CALENDAR PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-calendar">
  <div class="page-hero">
    <div class="page-hero-inner">
      <div class="hero-tag">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä –∑–∞–¥–∞—á</div>
      <h2>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–¥–∞—á</h2>
      <div class="hero-sub">–ù–∞–∂–º–∏ –Ω–∞ –∑–∞–¥–∞—á—É —á—Ç–æ–±—ã –æ—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π ¬∑ –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è</div>
    </div>
  </div>
  <div class="wrap">

    <div class="cal-role-filter">
      <button class="rf-btn act-all" id="btn-all" onclick="setRole('all')">üëÅ –í—Å–µ –∑–∞–¥–∞—á–∏</button>
      <button class="rf-btn" id="btn-prod" onclick="setRole('prod')">üéØ –Ø –ø—Ä–æ–¥—é—Å–µ—Ä</button>
      <button class="rf-btn" id="btn-expert" onclick="setRole('expert')">üé§ –Ø —ç–∫—Å–ø–µ—Ä—Ç</button>
    </div>

    <div class="cal-legend">
      <div class="legend-item"><div class="ldot" style="background:var(--prod)"></div>–ü—Ä–æ–¥—é—Å–µ—Ä</div>
      <div class="legend-item"><div class="ldot" style="background:var(--expert)"></div>–≠–∫—Å–ø–µ—Ä—Ç</div>
      <div class="legend-item"><div class="ldot" style="background:var(--both)"></div>–í–º–µ—Å—Ç–µ</div>
      <div style="margin-left:auto;display:flex;gap:14px;flex-wrap:wrap">
        <div class="legend-item"><div class="ldot" style="background:var(--blue)"></div>–§—É–Ω–¥–∞–º–µ–Ω—Ç</div>
        <div class="legend-item"><div class="ldot" style="background:var(--both)"></div>–¢—Ä–∞—Ñ–∏–∫</div>
        <div class="legend-item"><div class="ldot" style="background:#f97316"></div>–ü—Ä–æ–¥–∞–∂–∏</div>
      </div>
    </div>

    <div class="progress-wrap">
      <div class="prog-label">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
      <div class="prog-bar-wrap"><div class="prog-bar"><div class="prog-fill" id="progFill" style="width:0%"></div></div></div>
      <div class="prog-text">–í—ã–ø–æ–ª–Ω–µ–Ω–æ: <span id="doneN">0</span> / <span id="totalN">0</span></div>
    </div>

    <div class="month-nav">
      <button class="nav-btn" onclick="prevMonth()">&#8592;</button>
      <div class="month-title" id="monthTitle"></div>
      <button class="nav-btn" onclick="nextMonth()">&#8594;</button>
    </div>

    <div class="phase-strip" id="phaseStrip"></div>
    <div class="weekdays">
      <div class="wd">–ü–Ω</div><div class="wd">–í—Ç</div><div class="wd">–°—Ä</div>
      <div class="wd">–ß—Ç</div><div class="wd">–ü—Ç</div>
      <div class="wd wknd">–°–±</div><div class="wd wknd">–í—Å</div>
    </div>
    <div class="days-grid" id="daysGrid"></div>
    <div class="mobile-cal-hint">–ù–∞–∂–º–∏ –Ω–∞ –¥–µ–Ω—å —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∑–∞–¥–∞—á–∏</div>

  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DASHBOARD PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-dashboard">
  <div class="page-hero">
    <div class="page-hero-inner">
      <div class="hero-tag">–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞</div>
      <h2>–î–∞—à–±–æ—Ä–¥</h2>
      <div class="hero-sub">–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∑–∞–ø—É—Å–∫–∞ ¬∑ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</div>
    </div>
  </div>
  <div class="wrap">

    <!-- COUNTERS -->
    <div class="db-section">
      <div class="section-title">–ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–¥–∞—á</div>
      <div class="db-counters">
        <div class="db-card db-main">
          <div class="db-card-label">–í—Å–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
          <div class="db-card-num" id="db-total-done">0</div>
          <div class="db-card-sub" id="db-total-sub">–∏–∑ 0 –∑–∞–¥–∞—á</div>
          <div class="db-pbar"><div class="db-pfill" id="db-pfill" style="width:0%"></div></div>
        </div>
        <div class="db-card">
          <div class="db-card-label">üéØ –ó–∞–¥–∞—á–∏ –ø—Ä–æ–¥—é—Å–µ—Ä–∞</div>
          <div class="db-card-num" id="db-prod-done">0</div>
          <div class="db-card-sub" id="db-prod-sub">–∏–∑ 0</div>
          <div class="db-pbar"><div class="db-pfill" id="db-prod-fill" style="width:0%;background:var(--prod)"></div></div>
        </div>
        <div class="db-card">
          <div class="db-card-label">üé§ –ó–∞–¥–∞—á–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞</div>
          <div class="db-card-num" id="db-expert-done">0</div>
          <div class="db-card-sub" id="db-expert-sub">–∏–∑ 0</div>
          <div class="db-pbar"><div class="db-pfill" id="db-expert-fill" style="width:0%;background:var(--expert)"></div></div>
        </div>
        <div class="db-card db-days">
          <div class="db-card-label">–î–æ –∫–æ–Ω—Ü–∞ –∑–∞–ø—É—Å–∫–∞</div>
          <div class="db-card-num" id="db-days">‚Äî</div>
          <div class="db-card-sub">–¥–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å</div>
        </div>
        <div class="db-card db-days">
          <div class="db-card-label">–î–æ –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞</div>
          <div class="db-card-num" id="db-intensive">‚Äî</div>
          <div class="db-card-sub">–¥–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å</div>
        </div>
      </div>
    </div>

    <!-- TODAY TASKS -->
    <div class="db-section">
      <div class="section-title">–ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</div>
      <div id="db-today-tasks" class="db-today-wrap">
        <div class="db-empty">–ù–∞ —Å–µ–≥–æ–¥–Ω—è –∑–∞–¥–∞—á –Ω–µ—Ç ‚Äî –æ—Ç–¥—ã—Ö–∞–π üéâ</div>
      </div>
    </div>

    <!-- LAST CALL -->
    <div class="db-section">
      <div class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–æ–∑–≤–æ–Ω</div>
      <div id="db-last-call">
        <div class="db-empty">–°–æ–∑–≤–æ–Ω–æ–≤ –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ.<br>–ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É <b>–°–æ–∑–≤–æ–Ω—ã</b> –∏ –¥–æ–±–∞–≤—å –ø–µ—Ä–≤—ã–π.</div>
      </div>
    </div>

    <!-- PHASE STATUS -->
    <div class="db-section">
      <div class="section-title">–≠—Ç–∞–ø—ã –∑–∞–ø—É—Å–∫–∞</div>
      <div class="db-phases">
        <div class="db-phase-row" id="dbph1">
          <div class="db-phase-dot" style="background:var(--blue)"></div>
          <div class="db-phase-info">
            <div class="db-phase-name">–≠—Ç–∞–ø 1 ‚Äî –§—É–Ω–¥–∞–º–µ–Ω—Ç</div>
            <div class="db-phase-dates">22 —Ñ–µ–≤ ‚Äî 7 –º–∞—Ä</div>
          </div>
          <div class="db-phase-badge" id="dbph1-badge">‚Äî</div>
        </div>
        <div class="db-phase-row" id="dbph2">
          <div class="db-phase-dot" style="background:var(--both)"></div>
          <div class="db-phase-info">
            <div class="db-phase-name">–≠—Ç–∞–ø 2 ‚Äî –¢—Ä–∞—Ñ–∏–∫ –∏ –ø—Ä–æ–≥—Ä–µ–≤</div>
            <div class="db-phase-dates">9 –º–∞—Ä ‚Äî 18 –∞–ø—Ä</div>
          </div>
          <div class="db-phase-badge" id="dbph2-badge">‚Äî</div>
        </div>
        <div class="db-phase-row" id="dbph3">
          <div class="db-phase-dot" style="background:#f97316"></div>
          <div class="db-phase-info">
            <div class="db-phase-name">–≠—Ç–∞–ø 3 ‚Äî –ü—Ä–æ–¥–∞–∂–∏</div>
            <div class="db-phase-dates">20 –∞–ø—Ä ‚Äî 2 –º–∞—è</div>
          </div>
          <div class="db-phase-badge" id="dbph3-badge">‚Äî</div>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CALLS PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-calls">
  <div class="page-hero">
    <div class="page-hero-inner">
      <div class="hero-tag">–ò—Å—Ç–æ—Ä–∏—è —Å–æ–∑–≤–æ–Ω–æ–≤</div>
      <h2>–°–æ–∑–≤–æ–Ω—ã</h2>
      <div class="hero-sub">–§–∏–∫—Å–∏—Ä—É–π –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –≤—Å—Ç—Ä–µ—á–∏</div>
    </div>
  </div>
  <div class="wrap">

    <!-- ADD CALL FORM -->
    <div class="db-section">
      <div class="section-title">–î–æ–±–∞–≤–∏—Ç—å —Å–æ–∑–≤–æ–Ω</div>
      <div class="call-form">
        <div class="cf-row">
          <div class="cf-field">
            <label class="cf-label">–î–∞—Ç–∞</label>
            <input type="date" id="cf-date" class="cf-input">
          </div>
          <div class="cf-field cf-flex">
            <label class="cf-label">–£—á–∞—Å—Ç–Ω–∏–∫–∏</label>
            <input type="text" id="cf-who" class="cf-input" placeholder="–ü—Ä–æ–¥—é—Å–µ—Ä + –ö–æ—É—á">
          </div>
        </div>
        <div class="cf-field">
          <label class="cf-label">–û —á—ë–º –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å</label>
          <textarea id="cf-agreements" class="cf-textarea" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä:&#10;‚Äî –ö–æ—É—á –∑–∞–ø–∏—à–µ—Ç –≤–∏–¥–µ–æ –¥–æ –ø—è—Ç–Ω–∏—Ü—ã&#10;‚Äî –ü—Ä–æ–¥—é—Å–µ—Ä –¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –¥–æ —Å—Ä–µ–¥—ã&#10;‚Äî –†–µ—à–∏–ª–∏ –ø–æ–≤—ã—Å–∏—Ç—å —Ü–µ–Ω—É –¥–æ 80–∫"></textarea>
        </div>
        <div class="cf-field">
          <label class="cf-label">–ó–∞–¥–∞—á–∏ (–∫–∞–∂–¥–∞—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)</label>
          <textarea id="cf-tasks" class="cf-textarea cf-tasks-area" placeholder="–ü—Ä–æ–¥—é—Å–µ—Ä: —É–ø–∞–∫–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª –¥–æ 3 –º–∞—Ä—Ç–∞&#10;–≠–∫—Å–ø–µ—Ä—Ç: –Ω–∞–ø–∏—Å–∞—Ç—å 5 –ø–æ—Å—Ç–æ–≤ –¥–æ –ø—è—Ç–Ω–∏—Ü—ã&#10;–û–±–∞: —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å —Ü–µ–Ω—É –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –≤—Å—Ç—Ä–µ—á–µ"></textarea>
        </div>
        <button class="cf-submit" onclick="addCall()">+ –î–æ–±–∞–≤–∏—Ç—å —Å–æ–∑–≤–æ–Ω</button>
      </div>
    </div>

    <!-- CALLS LIST -->
    <div class="db-section">
      <div class="section-title">–ò—Å—Ç–æ—Ä–∏—è</div>
      <div id="calls-list">
        <div class="db-empty">–°–æ–∑–≤–æ–Ω–æ–≤ –µ—â—ë –Ω–µ—Ç. –î–æ–±–∞–≤—å –ø–µ—Ä–≤—ã–π –≤—ã—à–µ.</div>
      </div>
    </div>

  </div>
</div>

<!-- MODAL -->
<div class="overlay" id="overlay">
  <div class="modal">
    <div class="modal-date" id="mDate"></div>
    <div class="modal-phase" id="mPhase"></div>
    <div class="modal-tasks" id="mTasks"></div>
    <button class="modal-close" onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>

<script>
// ‚îÄ‚îÄ NAV ‚îÄ‚îÄ
function showPage(name, btn) {
  document.querySelectorAll('.page').forEach(function(p){ p.classList.remove('active'); });
  document.getElementById('page-' + name).classList.add('active');
  document.querySelectorAll('.nav-tab').forEach(function(b){ b.classList.remove('active'); });
  document.querySelectorAll('.mobile-tab').forEach(function(b){ b.classList.remove('active'); });
  if (btn) btn.classList.add('active');
  if (name === 'calendar') render();
  if (name === 'dashboard') renderDashboard();
  if (name === 'calls') renderCalls();
  if (name === 'docs') renderDocs();
  if (name === 'docs') renderDocs();
}

function toggleMenu() {
  var m = document.getElementById('mobileMenu');
  m.classList.toggle('open');
}

// ‚îÄ‚îÄ STRATEGY TOGGLE ‚îÄ‚îÄ
function toggle(header) {
  var phase = header.parentElement;
  phase.classList.toggle('open');
}

// ‚îÄ‚îÄ STRATEGY TIMELINE DRAG ‚îÄ‚îÄ
var htScroll = document.getElementById('htScroll');
if (htScroll) {
  var isDown = false, startX, scrollLeft;
  htScroll.addEventListener('mousedown', function(e){ isDown=true; startX=e.pageX-htScroll.offsetLeft; scrollLeft=htScroll.scrollLeft; });
  htScroll.addEventListener('mouseleave', function(){ isDown=false; });
  htScroll.addEventListener('mouseup', function(){ isDown=false; });
  htScroll.addEventListener('mousemove', function(e){ if(!isDown)return; e.preventDefault(); htScroll.scrollLeft=scrollLeft-(e.pageX-htScroll.offsetLeft-startX)*1.5; });
}

// ‚îÄ‚îÄ CALENDAR DATA ‚îÄ‚îÄ
var TASKS = {
  '2026-02-22': [
    {id:'a01',role:'both',text:'–°–æ–∑–≤–æ–Ω —Å –∫–æ—É—á–µ–º ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ–º –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏, –¥–µ–¥–ª–∞–π–Ω—ã –∏ —É—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã',time:'~1 —á'}
  ],
  '2026-02-23': [
    {id:'a02',role:'prod',text:'–ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤: –Ω–∞–π—Ç–∏ 10‚Äì15 –∫–∞—Ä—å–µ—Ä–Ω—ã—Ö –∫–æ—É—á–µ–π –≤ Telegram –∏ Instagram',time:'~2 —á'}
  ],
  '2026-02-24': [
    {id:'a03',role:'prod',text:'–ó–∞–≤–µ—Ä—à–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ ‚Äî —Ç–∞–±–ª–∏—Ü–∞: –æ—Ñ—Ñ–µ—Ä—ã, –±–æ–ª–∏, —Ü–µ–Ω—ã, —Ñ–æ—Ä–º–∞—Ç—ã',time:'~2 —á'},
    {id:'a04',role:'prod',text:'–°–æ–∑–≤–æ–Ω —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º –≤ 16:00 ‚Äî –æ–±—Å—É–∂–¥–∞–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ä–µ–∫–ª–∞–º—ã',time:'~1 —á'}
  ],
  '2026-02-25': [
    {id:'a05',role:'prod',text:'–ü–æ—Å—Ç—Ä–æ–∏—Ç—å 2‚Äì3 –ø–æ—Ä—Ç—Ä–µ—Ç–∞ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞: –≤–æ–∑—Ä–∞—Å—Ç, –±–æ–ª—å, –∂–µ–ª–∞–Ω–∏–µ, –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–µ',time:'~2 —á'},
    {id:'a06',role:'expert',text:'–ü—Ä–∏—Å–ª–∞—Ç—å –ø—Ä–æ–¥—é—Å–µ—Ä—É –º—ã—Å–ª–∏ –ø–æ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ ‚Äî –∫—Ç–æ —Ç–≤–æ–∏ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ –æ–ø—ã—Ç—É',time:'~30 –º–∏–Ω'}
  ],
  '2026-02-26': [
    {id:'a07',role:'both',text:'–í—Å—Ç—Ä–µ—á–∞: —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø—Ä–æ–¥—É–∫—Ç ‚Äî —Ñ–æ—Ä–º–∞—Ç –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–∞, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å–æ—Å—Ç–∞–≤',time:'~1.5 —á'}
  ],
  '2026-02-27': [
    {id:'a08',role:'both',text:'–§–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç: —Ü–µ–Ω–∞, —á—Ç–æ –≤—Ö–æ–¥–∏—Ç, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –≤—ã—Ö–æ–¥–µ',time:'~1 —á'},
    {id:'a09',role:'prod',text:'–°—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –æ—Ñ—Ñ–µ—Ä –∏ –£–¢–ü. –ü–µ—Ä–µ–¥–∞—Ç—å –¢–ó —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —Å–∞–π—Ç–∞',time:'~1 —á'},
    {id:'a10',role:'expert',text:'–°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ñ—Ñ–µ—Ä –∏ –£–¢–ü',time:'~30 –º–∏–Ω'}
  ],
  '2026-03-02': [
    {id:'b01',role:'prod',text:'–£–ø–∞–∫–æ–≤–∫–∞ Telegram –∫–∞–Ω–∞–ª–∞: –æ–ø–∏—Å–∞–Ω–∏–µ, –∞–≤–∞—Ç–∞—Ä–∫–∞, –æ–±–ª–æ–∂–∫–∞',time:'~2 —á'}
  ],
  '2026-03-03': [
    {id:'b02',role:'prod',text:'–ù–∞–ø–∏—Å–∞—Ç—å –∑–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–π –ø–æ—Å—Ç –¥–ª—è –∫–∞–Ω–∞–ª–∞',time:'~1 —á'},
    {id:'b03',role:'expert',text:'–ù–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–µ 2‚Äì3 –ø–æ—Å—Ç–∞ –ø–æ —Ç–µ–º–∞–º –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω–∞',time:'~1.5 —á'}
  ],
  '2026-03-04': [
    {id:'b04',role:'prod',text:'–°–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –Ω–∞ 6 –Ω–µ–¥–µ–ª—å: —Ä—É–±—Ä–∏–∫–∏, —Ç–µ–º—ã, –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–π',time:'~3 —á'},
    {id:'b05',role:'expert',text:'–ù–∞–ø–∏—Å–∞—Ç—å –µ—â—ë 2‚Äì3 –ø–æ—Å—Ç–∞',time:'~1.5 —á'}
  ],
  '2026-03-05': [
    {id:'b06',role:'expert',text:'–ó–∞–ø–∏—Å–∞—Ç—å 3 –≤–∏–¥–µ–æ x 10 –º–∏–Ω –¥–ª—è –∑–∞–∫—Ä–µ–ø–∞ (–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è + –∑–∞–ø–∏—Å—å —ç–∫—Ä–∞–Ω–∞)',time:'~3 —á'},
    {id:'b07',role:'expert',text:'–ù–∞–ø–∏—Å–∞—Ç—å –µ—â—ë 2 –ø–æ—Å—Ç–∞',time:'~1 —á'}
  ],
  '2026-03-06': [
    {id:'b08',role:'prod',text:'–ú–æ–Ω—Ç–∞–∂ –∏ –æ–±—Ä–µ–∑–∫–∞ 3 –≤–∏–¥–µ–æ. –ü–µ—Ä–µ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã –æ—Ç –∫–æ—É—á–∞',time:'~2 —á'},
    {id:'b09',role:'prod',text:'–ü—Ä–∏—ë–º–∫–∞ —Å–∞–π—Ç–∞. –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ç—Ä–∞—Ñ–∏–∫–∞',time:'~2 —á'}
  ],
  '2026-03-09': [
    {id:'c01',role:'prod',text:'–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —Å–∞–π—Ç, –∫–∞–Ω–∞–ª, –∑–∞–∫—Ä–µ–ø, –≤–∏–¥–µ–æ ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç',time:'~1 —á'}
  ],
  '2026-03-10': [
    {id:'c02',role:'prod',text:'–î–∞—ë–º —Å—Ç–∞—Ä—Ç —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥—É. –ü—É–±–ª–∏–∫—É–µ–º –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç –≤ –∫–∞–Ω–∞–ª–µ',time:'~30 –º–∏–Ω'}
  ],
  '2026-03-13': [
    {id:'c03',role:'prod',text:'–†–∞–∑–±–æ—Ä —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º: —Ü–µ–Ω–∞ –∫–ª–∏–∫–∞, —Ü–µ–Ω–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞, –ø–µ—Ä–≤—ã–µ –≤—ã–≤–æ–¥—ã',time:'~1 —á'}
  ],
  '2026-03-16': [
    {id:'c04',role:'prod',text:'–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–∞–º–ø–∞–Ω–∏–π –ø–æ –¥–∞–Ω–Ω—ã–º –ø–µ—Ä–≤–æ–π –Ω–µ–¥–µ–ª–∏',time:'~1 —á'}
  ],
  '2026-03-17': [
    {id:'c05',role:'expert',text:'–ù–∞–ø–∏—Å–∞—Ç—å –∫–ª—é—á–µ–≤–æ–π –ø–æ—Å—Ç ‚Äî –ª–∏—á–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è: –æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à—ë–ª, –ø–æ—á–µ–º—É –∫–∞—Ä—å–µ—Ä–Ω—ã–π –∫–æ—É—á–∏–Ω–≥',time:'~1.5 —á'}
  ],
  '2026-03-19': [
    {id:'c06',role:'prod',text:'–ê–Ω–∞–ª–∏–∑ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–æ–≤ ‚Äî —á—Ç–æ –∑–∞—Ö–æ–¥–∏—Ç –ª—É—á—à–µ, –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω–∞',time:'~1 —á'}
  ],
  '2026-03-23': [
    {id:'c07',role:'prod',text:'–†–∞–∑–±–æ—Ä —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º. ~50‚Äì60–∫ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–∞',time:'~1 —á'}
  ],
  '2026-03-24': [
    {id:'c08',role:'prod',text:'–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ —Ä–µ–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º —Ç—Ä–∞—Ñ–∏–∫–∞',time:'~1 —á'}
  ],
  '2026-03-26': [
    {id:'c09',role:'expert',text:'–ù–∞–ø–∏—Å–∞—Ç—å –≤–æ–≤–ª–µ–∫–∞—é—â–∏–π –ø–æ—Å—Ç-–≤–æ–ø—Ä–æ—Å –∫ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ –∏—Ö –∫–∞—Ä—å–µ—Ä–Ω—ã–µ –±–æ–ª–∏',time:'~30 –º–∏–Ω'}
  ],
  '2026-03-30': [
    {id:'d01',role:'expert',text:'–ù–∞—á–∞—Ç—å –¥–µ–ª–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞ ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–µ–¥–µ–ª–∏',time:'~3 —á'}
  ],
  '2026-04-02': [
    {id:'d02',role:'prod',text:'–†–∞–∑–±–æ—Ä —Å —Ç–∞—Ä–≥–µ—Ç–æ–ª–æ–≥–æ–º. ~100–∫ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ. –†–µ—à–∞–µ–º –∫–∞–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤–∞—Ç—å –æ—Å—Ç–∞—Ç–æ–∫',time:'~1 —á'},
    {id:'d03',role:'prod',text:'–ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –±–æ—Ç–∞ (—Ü–µ–ø–æ—á–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –∏–Ω—Ç–µ–Ω—Å–∏–≤–æ–º)',time:'~2 —á'}
  ],
  '2026-04-06': [
    {id:'d04',role:'prod',text:'–ë–æ—Ç –≥–æ—Ç–æ–≤ –∏ –∑–∞–ø—É—â–µ–Ω. –ü—É–±–ª–∏–∫—É–µ–º –∞–Ω–æ–Ω—Å-–ø–æ—Å—Ç —Å –¥–∞—Ç–æ–π –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞',time:'~2 —á'}
  ],
  '2026-04-09': [
    {id:'d05',role:'prod',text:'–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Ç—Ä–∞—Ñ–∏–∫–∞',time:'~1 —á'},
    {id:'d06',role:'expert',text:'–§–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞ ‚Äî –¥–µ–¥–ª–∞–π–Ω',time:'~2 —á'}
  ],
  '2026-04-13': [
    {id:'d07',role:'prod',text:'–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç—Ä–∞—Ñ–∏–∫. –ü—É–±–ª–∏–∫—É–µ–º –∞–Ω–æ–Ω—Å –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ –±–æ—Ç–∞',time:'~30 –º–∏–Ω'}
  ],
  '2026-04-14': [
    {id:'d08',role:'expert',text:'–ó–∞–ø–∏—Å–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ-–∞–Ω–æ–Ω—Å: –ø–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –ø—Ä–∏–π—Ç–∏ –Ω–∞ –∏–Ω—Ç–µ–Ω—Å–∏–≤',time:'~30 –º–∏–Ω'}
  ],
  '2026-04-16': [
    {id:'d09',role:'prod',text:'–°–ª–µ–¥–∏–º –∑–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è–º–∏. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è. –ì–æ—Ç–æ–≤–∏–º –∞–Ω–∫–µ—Ç—É',time:'~1 —á'}
  ],
  '2026-04-20': [
    {id:'e01',role:'prod',text:'–§–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º –∏–Ω—Ç–µ–Ω—Å–∏–≤–∞',time:'~30 –º–∏–Ω'}
  ],
  '2026-04-21': [
    {id:'e02',role:'both',text:'–ü—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤. –í –∫–æ–Ω—Ü–µ ‚Äî –∞–Ω–∫–µ—Ç–∞ –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤',time:'~2 —á'},
    {id:'e03',role:'prod',text:'–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ: —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è, —á–∞—Ç',time:'~2 —á'}
  ],
  '2026-04-23': [
    {id:'e04',role:'prod',text:'–ü–æ—Å—Ç-–±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º. –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º —Å–æ–∑–≤–æ–Ω—ã –∫–æ—É—á–∞',time:'~1 —á'},
    {id:'e05',role:'expert',text:'–°–æ–∑–≤–æ–Ω—ã 30 –º–∏–Ω –≤ Zoom —Å —Ç–µ–º–∏ –∫—Ç–æ –∑–∞–ø–æ–ª–Ω–∏–ª –∞–Ω–∫–µ—Ç—É. –ó–∞–∫—Ä—ã—Ç–∏–µ –Ω–∞ –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–æ',time:'~4‚Äì8 —á'}
  ],
  '2026-04-24': [
    {id:'e06',role:'expert',text:'–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–æ–∑–≤–æ–Ω–æ–≤ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏',time:'~2‚Äì4 —á'}
  ],
  '2026-04-27': [
    {id:'e07',role:'prod',text:'–ó–∞–ø—É—Å–∫ –æ–∫–Ω–∞ –ø—Ä–æ–¥–∞–∂ ‚Ññ3 ‚Äî –º–µ—Ö–∞–Ω–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–∏–º –ø–æ–∑–∂–µ',time:'~1 —á'},
    {id:'e08',role:'expert',text:'–£—á–∞—Å—Ç–∏–µ –≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–∫–Ω–∞ ‚Ññ3. –õ–∏—á–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã–º–∏',time:'~2 —á'}
  ],
  '2026-05-01': [
    {id:'e09',role:'prod',text:'–ü—É–±–ª–∏–∫—É–µ–º –ø–æ—Å—Ç —Å –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏ –∏ –¥–µ–¥–ª–∞–π–Ω–æ–º. –ó–∞–∫—Ä—ã–≤–∞–µ–º –∑–∞–ø—É—Å–∫',time:'~30 –º–∏–Ω'},
    {id:'e10',role:'expert',text:'–§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–æ–∑–≤–æ–Ω—ã —Å —Ç–µ–º–∏ –∫—Ç–æ –µ—â—ë –Ω–µ –ø—Ä–∏–Ω—è–ª —Ä–µ—à–µ–Ω–∏–µ',time:'~1 —á'}
  ]
};

var PHASES = {};
function ph(arr,p){arr.forEach(function(d){PHASES[d]=p;});}
ph(['2026-02-22','2026-02-23','2026-02-24','2026-02-25','2026-02-26','2026-02-27','2026-02-28','2026-03-01','2026-03-02','2026-03-03','2026-03-04','2026-03-05','2026-03-06','2026-03-07'],'ph1');
ph(['2026-03-09','2026-03-10','2026-03-11','2026-03-12','2026-03-13','2026-03-14','2026-03-16','2026-03-17','2026-03-18','2026-03-19','2026-03-20','2026-03-21','2026-03-23','2026-03-24','2026-03-25','2026-03-26','2026-03-27','2026-03-28','2026-03-30','2026-03-31','2026-04-01','2026-04-02','2026-04-03','2026-04-04','2026-04-06','2026-04-07','2026-04-08','2026-04-09','2026-04-10','2026-04-11','2026-04-13','2026-04-14','2026-04-15','2026-04-16','2026-04-17','2026-04-18'],'ph2');
ph(['2026-04-20','2026-04-21','2026-04-22','2026-04-23','2026-04-24','2026-04-25','2026-04-27','2026-04-28','2026-04-29','2026-04-30','2026-05-01','2026-05-02'],'ph3');

var MONTHS = ['–Ø–Ω–≤–∞—Ä—å','–§–µ–≤—Ä–∞–ª—å','–ú–∞—Ä—Ç','–ê–ø—Ä–µ–ª—å','–ú–∞–π','–ò—é–Ω—å','–ò—é–ª—å','–ê–≤–≥—É—Å—Ç','–°–µ–Ω—Ç—è–±—Ä—å','–û–∫—Ç—è–±—Ä—å','–ù–æ—è–±—Ä—å','–î–µ–∫–∞–±—Ä—å'];
var PHNAMES = {ph1:'–≠—Ç–∞–ø 1 ‚Äî –§—É–Ω–¥–∞–º–µ–Ω—Ç',ph2:'–≠—Ç–∞–ø 2 ‚Äî –¢—Ä–∞—Ñ–∏–∫ –∏ –ø—Ä–æ–≥—Ä–µ–≤',ph3:'–≠—Ç–∞–ø 3 ‚Äî –ü—Ä–æ–¥–∞–∂–∏'};
var RLABELS = {prod:'üéØ –ü—Ä–æ–¥—é—Å–µ—Ä',expert:'üé§ –≠–∫—Å–ø–µ—Ä—Ç',both:'ü§ù –í–º–µ—Å—Ç–µ'};
var DNAMES = ['–≤—Å','–ø–Ω','–≤—Ç','—Å—Ä','—á—Ç','–ø—Ç','—Å–±'];

var curY=2026, curM=1, role='all', openKey=null;
// ‚îÄ‚îÄ LOCAL STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
var done = {};
var customTasks = {};
var deletedIds = {};
var calls = [];
var docs = [];
var supabase = null;
var dataReady = false;
var SUPABASE_URL = 'https://vyuabunyyseovrwvngsr.supabase.co';

// Global sbUpsert - overridden by bootstrap once ready
var isSaving = false;
var SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ5dWFidW55eXNlb3Zyd3ZuZ3NyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4NjU1NDgsImV4cCI6MjA4NzQ0MTU0OH0.gg0d3T6vK1p0cCIRbTAGoDnOSFxGfrLcR-oaiVL82ks';

// ‚îÄ‚îÄ SYNC DOT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function setSyncDot(state) {
  var dot = document.getElementById('syncDot');
  if (!dot) return;
  dot.className = 'sync-dot ' + state;
}

// ‚îÄ‚îÄ LOCALSTORAGE FALLBACK ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function loadFromLocal() {
  try { done        = JSON.parse(localStorage.getItem('cal3')         || '{}'); } catch(e){}
  try { docs       = JSON.parse(localStorage.getItem('launch_docs')   || '[]'); } catch(e){}
  try { customTasks = JSON.parse(localStorage.getItem('cal_custom')   || '{}'); } catch(e){}
  try { deletedIds  = JSON.parse(localStorage.getItem('cal_deleted')  || '{}'); } catch(e){}
  try { calls       = JSON.parse(localStorage.getItem('launch_calls') || '[]'); } catch(e){}
  try { docs        = JSON.parse(localStorage.getItem('launch_docs')  || '[]'); } catch(e){}
}
function saveToLocal() {
  try { localStorage.setItem('cal3',          JSON.stringify(done)); } catch(e){}
  try { localStorage.setItem('launch_docs',    JSON.stringify(docs)); } catch(e){}
  try { localStorage.setItem('cal_custom',    JSON.stringify(customTasks)); } catch(e){}
  try { localStorage.setItem('cal_deleted',   JSON.stringify(deletedIds)); } catch(e){}
  try { localStorage.setItem('launch_calls',  JSON.stringify(calls)); } catch(e){}
  try { localStorage.setItem('launch_docs',   JSON.stringify(docs)); } catch(e){}
}

// ‚îÄ‚îÄ SUPABASE SAVE/LOAD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function save() {
  saveToLocal();
  if (!supabase) return;
  setSyncDot('syncing');
  supabase.from('appdata').upsert({ id: 1, done: done })
    .then(function(){ setSyncDot('synced'); });
}
function saveCustom() {
  saveToLocal();
  if (!supabase) return;
  setSyncDot('syncing');
  supabase.from('appdata').upsert({ id: 1, customTasks: customTasks, deletedIds: deletedIds })
    .then(function(){ setSyncDot('synced'); });
}
function saveCalls() {
  saveToLocal();
  if (!supabase) return;
  setSyncDot('syncing');
  supabase.from('appdata').upsert({ id: 1, calls: calls })
    .then(function(){ setSyncDot('synced'); });
}

async function saveDocs() {
  isSaving = true;
  console.log('SAVE: saving docs to Supabase, count=', docs.length);
  saveToLocal();
  setSyncDot('syncing');
  var ok = await sbUpsert({ docs: docs });
  console.log('SAVE: done, ok=', ok);
  setSyncDot('synced');
  isSaving = false;
}
function saveAll() {
  saveToLocal();
  if (!supabase) return;
  setSyncDot('syncing');
  supabase.from('appdata').upsert({
    id: 1, done: done, customTasks: customTasks,
    deletedIds: deletedIds, calls: calls
  }).then(function(){ setSyncDot('synced'); });
}

async function loadFromSupabase() {
  try {
    var res = await supabase.from('appdata').select('*').eq('id', 1).single();
    if (res.data) {
      done        = res.data.done        || {};
      customTasks = res.data.customTasks || {};
      deletedIds  = res.data.deletedIds  || {};
      calls       = res.data.calls       || [];
      // Also save to localStorage as cache
      saveToLocal();
      setSyncDot('synced');
    }
  } catch(e) {
    // Fall back to localStorage
    loadFromLocal();
  }
}

// ‚îÄ‚îÄ INIT APP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function initApp() {
  dataReady = true;
  render();
  renderCalls();
  renderDocs();
  var di = document.getElementById('cf-date');
  if (di) {
    var t = new Date();
    di.value = t.getFullYear()+'-'+String(t.getMonth()+1).padStart(2,'0')+'-'+String(t.getDate()).padStart(2,'0');
  }
}

// ‚îÄ‚îÄ BOOTSTRAP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
var SB_URL = SUPABASE_URL;
var SB_KEY = SUPABASE_KEY;
var SB_HEADERS = {
  'apikey': SUPABASE_KEY,
  'Authorization': 'Bearer ' + SUPABASE_KEY,
  'Content-Type': 'application/json'
};


async function sbGet() {
  try {
    var r = await fetch(SB_URL + '/rest/v1/appdata?id=eq.1&select=*', { headers: SB_HEADERS });
    if (!r.ok) { console.log('SB GET error:', r.status, await r.text()); return null; }
    var rows = await r.json();
    return rows && rows[0] ? rows[0] : null;
  } catch(e) { console.log('SB GET fail:', e); return null; }
}
async function sbUpsert(payload) {
  try {
    // Use PATCH to update existing row (avoids POST CORS issues)
    var r = await fetch(SB_URL + '/rest/v1/appdata?id=eq.1', {
      method: 'PATCH',
      headers: Object.assign({}, SB_HEADERS, { 'Prefer': 'return=minimal' }),
      body: JSON.stringify(payload)
    });
    if (!r.ok) {
      var txt = await r.text();
      console.log('SB UPSERT error:', r.status, txt);
    } else {
      console.log('SB UPSERT ok');
      setSyncDot('synced');
    }
    return true;
  } catch(e) { console.log('SB UPSERT fail:', e); setSyncDot(''); return false; }
}

(async function() {
  // Always load localStorage first for instant render
  loadFromLocal();
  initApp();



  // Override save functions to use REST
  save = function() {
    saveToLocal();
    setSyncDot('syncing');
    sbUpsert({ done: done });
  };
  saveCustom = function() {
    saveToLocal();
    setSyncDot('syncing');
    sbUpsert({ customTasks: customTasks, deletedIds: deletedIds });
  };
  saveCalls = function() {
    saveToLocal();
    setSyncDot('syncing');
    sbUpsert({ calls: calls });
  };

  // Load fresh data from Supabase
  console.log('SB: loading from REST API...');
  setSyncDot('syncing');
  var row = await sbGet();
  console.log('SB: got row:', !!row);
  if (row) {
    done        = row.done        || {};
    customTasks = row.customTasks || {};
    deletedIds  = row.deletedIds  || {};
    calls       = row.calls       || [];
    docs        = row.docs        || [];
    saveToLocal();
    setSyncDot('synced');
    render();
    renderCalls();
    if (document.getElementById('page-dashboard') &&
        document.getElementById('page-dashboard').classList.contains('active')) {
      renderDashboard();
    }
  } else {
    setSyncDot('');
  }

  // Poll for changes every 10 seconds
  var isSaving = false; // flag: skip poll while saving
  setInterval(async function() {
    if (isSaving) return; // don't overwrite while save in progress
    var r = await sbGet();
    if (r) {
      done        = r.done        || {};
      customTasks = r.customTasks || {};
      deletedIds  = r.deletedIds  || {};
      calls       = r.calls       || [];
      // Only update docs if Supabase has data (don't overwrite with empty)
      console.log('POLL: r.docs =', JSON.stringify(r.docs), 'local docs =', docs.length);
      if (r.docs && r.docs.length > 0) { docs = r.docs; console.log('POLL: updated docs from DB, count=', docs.length); }
      else { console.log('POLL: keeping local docs, DB has:', r.docs); }
      saveToLocal();
      render();
      renderCalls();
      renderDocs();
      if (document.getElementById('page-dashboard') &&
          document.getElementById('page-dashboard').classList.contains('active')) {
        renderDashboard();
      }
      if (document.getElementById('page-docs') &&
          document.getElementById('page-docs').classList.contains('active')) {
        renderDocs();
      }
    }
  }, 5000);
})();

// ‚îÄ‚îÄ TASK HELPERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function getDayTasks(key) {
  var base = (TASKS[key]||[]).filter(function(t){ return !deletedIds[t.id]; });
  var custom = customTasks[key]||[];
  return base.concat(custom);
}

function genId(){ return 'c'+Date.now()+Math.random().toString(36).slice(2,6); }

function dkey(y,m,d){return y+'-'+String(m+1).padStart(2,'0')+'-'+String(d).padStart(2,'0');}
function vt(tasks){if(role==='all')return tasks;return tasks.filter(function(t){return t.role===role||t.role==='both';});}
// save() defined above in Firebase block

function toggleTask(id){done[id]=!done[id];save();render();if(openKey)openModal(openKey);}

function updateProgress(){
  var all=getAllTasks();
  var total=all.length,dn=all.filter(function(t){return done[t.id];}).length;
  document.getElementById('totalN').textContent=total;
  document.getElementById('doneN').textContent=dn;
  document.getElementById('progFill').style.width=(total?Math.round(dn/total*100):0)+'%';
}

function getAllTasks(){
  var keys=new Set(Object.keys(TASKS).concat(Object.keys(customTasks)));
  var all=[];
  keys.forEach(function(k){all=all.concat(getDayTasks(k));});
  return all;
}

function setRole(r){
  role=r;
  document.getElementById('btn-all').className='rf-btn'+(r==='all'?' act-all':'');
  document.getElementById('btn-prod').className='rf-btn'+(r==='prod'?' act-prod':'');
  document.getElementById('btn-expert').className='rf-btn'+(r==='expert'?' act-expert':'');
  render();
}

function render(){
  updateProgress();
  var today=new Date();
  var todayKey=dkey(today.getFullYear(),today.getMonth(),today.getDate());
  document.getElementById('monthTitle').textContent=MONTHS[curM]+' '+curY;
  var firstDow=new Date(curY,curM,1).getDay();
  var offset=firstDow===0?6:firstDow-1;
  var dim=new Date(curY,curM+1,0).getDate();
  var total=Math.ceil((offset+dim)/7)*7;
  var strip=document.getElementById('phaseStrip');
  var grid=document.getElementById('daysGrid');
  strip.innerHTML='';grid.innerHTML='';

  for(var i=0;i<total;i++){
    var dayN=i-offset+1;
    var valid=dayN>=1&&dayN<=dim;
    var key=valid?dkey(curY,curM,dayN):null;
    var allT=key?getDayTasks(key):[];
    var vtasks=vt(allT);
    var phase=key?(PHASES[key]||null):null;
    var dow=i%7;
    var isToday=key===todayKey;
    var allDone=vtasks.length>0&&vtasks.every(function(t){return done[t.id];});

    var sc=document.createElement('div');
    sc.className='ps-cell'+(phase?' '+phase:'');
    strip.appendChild(sc);

    var cell=document.createElement('div');
    if(!valid){cell.className='day-cell empty';grid.appendChild(cell);continue;}
    var cls=['day-cell'];
    if(dow>=5)cls.push('wknd-cell');
    if(isToday)cls.push('is-today');
    if(vtasks.length>0)cls.push('clickable');
    if(allDone)cls.push('all-done');
    cell.className=cls.join(' ');

    var dnDiv=document.createElement('div');
    dnDiv.className='dn'+(isToday?' today-dn':'');
    dnDiv.innerHTML='<span>'+dayN+'</span>'+(isToday?'<span class="today-tag">—Å–µ–≥–æ–¥–Ω—è</span>':'');
    cell.appendChild(dnDiv);

    if(vtasks.length>0){
      var tw=document.createElement('div');tw.className='day-tasks';
      vtasks.slice(0,3).forEach(function(t){
        var pill=document.createElement('div');
        pill.className='tpill '+t.role+(done[t.id]?' done':'');
        var dot=document.createElement('div');dot.className='tdot';
        var txt=document.createElement('div');txt.className='ttext';txt.textContent=t.text;
        pill.appendChild(dot);pill.appendChild(txt);
        (function(tid){pill.addEventListener('click',function(e){e.stopPropagation();toggleTask(tid);});})(t.id);
        tw.appendChild(pill);
      });
      if(vtasks.length>3){
        var more=document.createElement('div');more.className='more-label';
        more.textContent='+'+(vtasks.length-3)+' –µ—â—ë...';tw.appendChild(more);
      }
      cell.appendChild(tw);
      (function(k){cell.addEventListener('click',function(){openModal(k);});})(key);
    }
    grid.appendChild(cell);
  }
}

function openModal(key){
  openKey=key;
  var p=key.split('-'),y=+p[0],m=+p[1]-1,d=+p[2];
  var obj=new Date(y,m,d);
  document.getElementById('mDate').textContent=d+' '+MONTHS[m]+' ‚Äî '+DNAMES[obj.getDay()];
  document.getElementById('mPhase').textContent=PHASES[key]?PHNAMES[PHASES[key]]:'';
  renderModalTasks(key);
  document.getElementById('overlay').classList.add('open');
}

function renderModalTasks(key){
  var tasks=vt(getDayTasks(key));
  var wrap=document.getElementById('mTasks');
  wrap.innerHTML='';

  tasks.forEach(function(t){
    var isCustom=!!(t.custom);
    var div=document.createElement('div');
    div.className='mtask '+t.role+(done[t.id]?' done':'')+(isCustom?' custom-task':'');
    div.style.position='relative';

    // Checkbox area
    var chk=document.createElement('div');
    chk.className='mcheck';
    if(done[t.id])chk.textContent='‚úì';

    // Body
    var body=document.createElement('div');
    body.className='mbody';
    body.style.flex='1';
    var roleLabel=document.createElement('div');
    roleLabel.className='mrole';
    roleLabel.innerHTML=RLABELS[t.role]+(isCustom?'<span class="custom-badge">—Å–≤–æ—è</span>':'');
    var textEl=document.createElement('div');
    textEl.className='mtext';
    textEl.textContent=t.text;
    var timeEl=document.createElement('div');
    timeEl.className='mtime';
    timeEl.textContent=t.time||'';
    body.appendChild(roleLabel);
    body.appendChild(textEl);
    body.appendChild(timeEl);

    // Action buttons
    var actions=document.createElement('div');
    actions.className='mtask-actions';

    // Move button
    var moveBtn=document.createElement('button');
    moveBtn.className='mtask-move';
    moveBtn.title='–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ –¥—Ä—É–≥–æ–π –¥–µ–Ω—å';
    moveBtn.textContent='üìÖ';
    moveBtn.addEventListener('click',(function(tid,taskObj,dayKey){
      return function(e){
        e.stopPropagation();
        // Remove existing move panels
        wrap.querySelectorAll('.move-panel').forEach(function(el){el.remove();});
        // Show move panel after this task div
        var panel=document.createElement('div');
        panel.className='move-panel';
        var lbl=document.createElement('label');
        lbl.textContent='–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ –¥–∞—Ç—É:';
        var row=document.createElement('div');
        row.className='move-panel-row';
        var inp=document.createElement('input');
        inp.type='date';
        inp.className='move-date-input';
        inp.value=dayKey;
        var confirmBtn=document.createElement('button');
        confirmBtn.className='move-confirm';
        confirmBtn.textContent='‚Üí';
        confirmBtn.addEventListener('click',function(){
          var newKey=inp.value;
          if(!newKey||newKey===dayKey){panel.remove();return;}
          moveTask(taskObj,dayKey,newKey);
          panel.remove();
          renderModalTasks(dayKey);
          render();
          renderDashboard();
        });
        var cancelBtn=document.createElement('button');
        cancelBtn.className='move-cancel';
        cancelBtn.textContent='‚úï';
        cancelBtn.addEventListener('click',function(){panel.remove();});
        row.appendChild(inp);row.appendChild(confirmBtn);row.appendChild(cancelBtn);
        panel.appendChild(lbl);panel.appendChild(row);
        div.insertAdjacentElement('afterend',panel);
      };
    })(t.id,t,key));
    actions.appendChild(moveBtn);

    // Delete button
    var delBtn=document.createElement('button');
    delBtn.className='mtask-del';
    delBtn.title='–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É';
    delBtn.textContent='üóë';
    delBtn.addEventListener('click',(function(tid,taskObj,dayKey,isC){
      return function(e){
        e.stopPropagation();
        deleteTask(tid,taskObj,dayKey,isC);
        renderModalTasks(dayKey);
        render();
        renderDashboard();
      };
    })(t.id,t,key,isCustom));
    actions.appendChild(delBtn);

    // Checkbox click
    (function(tid){
      chk.style.cursor='pointer';
      chk.addEventListener('click',function(e){e.stopPropagation();toggleTask(tid);renderModalTasks(key);render();renderDashboard();});
    })(t.id);

    div.appendChild(chk);
    div.appendChild(body);
    div.appendChild(actions);
    wrap.appendChild(div);
  });

  // Add task button
  var addBtn=document.createElement('button');
  addBtn.className='modal-add-btn';
  addBtn.innerHTML='<span>+</span> –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É';
  addBtn.addEventListener('click',function(){
    addBtn.style.display='none';
    var form=buildAddForm(key,function(){
      renderModalTasks(key);render();renderDashboard();
    },function(){
      addBtn.style.display='flex';
      var f=wrap.querySelector('.modal-add-form');
      if(f)f.remove();
    });
    wrap.appendChild(form);
  });
  wrap.appendChild(addBtn);
}

function buildAddForm(key,onSave,onCancel){
  var form=document.createElement('div');
  form.className='modal-add-form';

  var row1=document.createElement('div');row1.className='maf-row';
  var textInp=document.createElement('input');
  textInp.className='maf-input';textInp.placeholder='–¢–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏...';textInp.type='text';

  var rolesel=document.createElement('select');rolesel.className='maf-select';
  [{v:'prod',l:'üéØ –ü—Ä–æ–¥—é—Å–µ—Ä'},{v:'expert',l:'üé§ –≠–∫—Å–ø–µ—Ä—Ç'},{v:'both',l:'ü§ù –í–º–µ—Å—Ç–µ'}].forEach(function(opt){
    var o=document.createElement('option');o.value=opt.v;o.textContent=opt.l;rolesel.appendChild(o);
  });

  var timeInp=document.createElement('input');
  timeInp.className='maf-input maf-time';timeInp.placeholder='~1 —á';timeInp.type='text';timeInp.style.width='80px';

  row1.appendChild(textInp);row1.appendChild(rolesel);row1.appendChild(timeInp);
  form.appendChild(row1);

  var btns=document.createElement('div');btns.className='maf-btns';
  var saveBtn=document.createElement('button');saveBtn.className='maf-save';saveBtn.textContent='–°–æ—Ö—Ä–∞–Ω–∏—Ç—å';
  saveBtn.addEventListener('click',function(){
    var txt=textInp.value.trim();
    if(!txt){textInp.focus();return;}
    var task={id:genId(),role:rolesel.value,text:txt,time:timeInp.value||'',custom:true};
    if(!customTasks[key])customTasks[key]=[];
    customTasks[key].push(task);
    saveCustom();
    onSave();
  });
  var cancelBtn=document.createElement('button');cancelBtn.className='maf-cancel';cancelBtn.textContent='–û—Ç–º–µ–Ω–∞';
  cancelBtn.addEventListener('click',onCancel);
  btns.appendChild(saveBtn);btns.appendChild(cancelBtn);
  form.appendChild(btns);
  setTimeout(function(){textInp.focus();},50);
  return form;
}

function deleteTask(tid,task,dayKey,isCustom){
  if(isCustom){
    if(customTasks[dayKey]){
      customTasks[dayKey]=customTasks[dayKey].filter(function(t){return t.id!==tid;});
    }
  } else {
    deletedIds[tid]=true;
    delete done[tid];
    save();
  }
  saveCustom();
}

function moveTask(task,fromKey,toKey){
  // Remove from source
  if(task.custom){
    if(customTasks[fromKey]){
      customTasks[fromKey]=customTasks[fromKey].filter(function(t){return t.id!==task.id;});
    }
  } else {
    // Mark original as deleted, add as custom to new day
    deletedIds[task.id]=true;
    delete done[task.id];
    save();
  }
  // Add to destination as custom task
  var newTask={id:genId(),role:task.role,text:task.text,time:task.time||'',custom:true};
  if(!customTasks[toKey])customTasks[toKey]=[];
  customTasks[toKey].push(newTask);
  saveCustom();
}

function closeModal(){document.getElementById('overlay').classList.remove('open');openKey=null;}
document.getElementById('overlay').addEventListener('click',function(e){if(e.target===this)closeModal();});
function prevMonth(){curM--;if(curM<0){curM=11;curY--;}render();}
function nextMonth(){curM++;if(curM>11){curM=0;curY++;}render();}



// ‚îÄ‚îÄ CALLS STORAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// calls & saveCalls defined above in Firebase block

function addCall() {
  var date = document.getElementById('cf-date').value;
  var who = document.getElementById('cf-who').value.trim();
  var agreements = document.getElementById('cf-agreements').value.trim();
  var tasks = document.getElementById('cf-tasks').value.trim();

  if (!date || !agreements) {
    alert('–ó–∞–ø–æ–ª–Ω–∏ –¥–∞—Ç—É –∏ –ø–æ–ª–µ "–û —á—ë–º –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å"');
    return;
  }

  var call = {
    id: Date.now(),
    date: date,
    who: who || '–ü—Ä–æ–¥—é—Å–µ—Ä + –ö–æ—É—á',
    agreements: agreements,
    tasks: tasks ? tasks.split('\n').filter(function(t){ return t.trim(); }) : []
  };

  calls.unshift(call); // newest first
  saveCalls();

  // Clear form
  document.getElementById('cf-date').value = '';
  document.getElementById('cf-who').value = '';
  document.getElementById('cf-agreements').value = '';
  document.getElementById('cf-tasks').value = '';

  renderCalls();
  alert('–°–æ–∑–≤–æ–Ω –¥–æ–±–∞–≤–ª–µ–Ω! –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ.');
}

function deleteCall(id) {
  calls = calls.filter(function(c){ return c.id != id; });
  saveCalls();
  renderCalls();
  renderDashboard();
}

function formatDate(dateStr) {
  var months = ['—è–Ω–≤–∞—Ä—è','—Ñ–µ–≤—Ä–∞–ª—è','–º–∞—Ä—Ç–∞','–∞–ø—Ä–µ–ª—è','–º–∞—è','–∏—é–Ω—è','–∏—é–ª—è','–∞–≤–≥—É—Å—Ç–∞','—Å–µ–Ω—Ç—è–±—Ä—è','–æ–∫—Ç—è–±—Ä—è','–Ω–æ—è–±—Ä—è','–¥–µ–∫–∞–±—Ä—è'];
  var d = new Date(dateStr + 'T12:00:00');
  return d.getDate() + ' ' + months[d.getMonth()] + ' ' + d.getFullYear();
}

function renderCalls() {
  var wrap = document.getElementById('calls-list');
  if (!wrap) return;
  if (calls.length === 0) {
    wrap.innerHTML = '<div class="db-empty">–°–æ–∑–≤–æ–Ω–æ–≤ –µ—â—ë –Ω–µ—Ç. –î–æ–±–∞–≤—å –ø–µ—Ä–≤—ã–π –≤—ã—à–µ.</div>';
    return;
  }
  wrap.innerHTML = '';
  calls.forEach(function(call, idx) {
    var card = document.createElement('div');
    card.className = 'call-card' + (idx === 0 ? ' latest' : '');

    // Delete button with inline confirmation
    var delBtn = document.createElement('button');
    delBtn.className = 'call-delete';
    delBtn.title = '–£–¥–∞–ª–∏—Ç—å';
    delBtn.textContent = '‚úï';
    delBtn.addEventListener('click', (function(cid, cardEl) {
      return function(e) {
        e.stopPropagation();
        // Check if already in confirm mode
        var existing = cardEl.querySelector('.call-confirm');
        if (existing) { existing.remove(); return; }
        // Show inline confirm
        var confirmBar = document.createElement('div');
        confirmBar.className = 'call-confirm';
        confirmBar.innerHTML = '<span>–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Å–æ–∑–≤–æ–Ω?</span>' +
          '<button class="call-confirm-yes">–î–∞, —É–¥–∞–ª–∏—Ç—å</button>' +
          '<button class="call-confirm-no">–û—Ç–º–µ–Ω–∞</button>';
        confirmBar.querySelector('.call-confirm-yes').addEventListener('click', function() {
          deleteCall(cid);
        });
        confirmBar.querySelector('.call-confirm-no').addEventListener('click', function() {
          confirmBar.remove();
        });
        cardEl.appendChild(confirmBar);
      };
    })(call.id, card));
    card.appendChild(delBtn);

    // Header
    var header = document.createElement('div');
    header.className = 'call-card-header';

    var dateEl = document.createElement('div');
    dateEl.className = 'call-card-date';
    dateEl.textContent = formatDate(call.date);
    header.appendChild(dateEl);

    var whoEl = document.createElement('div');
    whoEl.className = 'call-card-who';
    whoEl.textContent = call.who;
    header.appendChild(whoEl);

    if (idx === 0) {
      var tag = document.createElement('span');
      tag.className = 'call-latest-tag';
      tag.textContent = '–ü–æ—Å–ª–µ–¥–Ω–∏–π';
      header.appendChild(tag);
    }
    card.appendChild(header);

    // Agreements
    var agr = document.createElement('div');
    agr.className = 'call-card-agreements';
    agr.textContent = call.agreements;
    card.appendChild(agr);

    // Tasks
    if (call.tasks && call.tasks.length > 0) {
      var tasksLabel = document.createElement('div');
      tasksLabel.className = 'call-card-tasks-label';
      tasksLabel.textContent = '–ó–∞–¥–∞—á–∏';
      card.appendChild(tasksLabel);
      call.tasks.forEach(function(t) {
        var taskEl = document.createElement('div');
        taskEl.className = 'call-card-task';
        taskEl.textContent = t;
        card.appendChild(taskEl);
      });
    }

    wrap.appendChild(card);
  });
}


function escHtml(str) {
  return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}

// ‚îÄ‚îÄ DASHBOARD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function renderDashboard() {
  // Count tasks
  var allTasks = getAllTasks();

  var total = allTasks.length;
  var totalDone = allTasks.filter(function(t){ return done[t.id]; }).length;
  var prodTasks = allTasks.filter(function(t){ return t.role === 'prod' || t.role === 'both'; });
  var expertTasks = allTasks.filter(function(t){ return t.role === 'expert' || t.role === 'both'; });
  var prodDone = prodTasks.filter(function(t){ return done[t.id]; }).length;
  var expertDone = expertTasks.filter(function(t){ return done[t.id]; }).length;

  setText('db-total-done', totalDone);
  setText('db-total-sub', '–∏–∑ ' + total + ' –∑–∞–¥–∞—á');
  setWidth('db-pfill', total ? Math.round(totalDone/total*100) : 0);

  setText('db-prod-done', prodDone);
  setText('db-prod-sub', '–∏–∑ ' + prodTasks.length);
  setWidth('db-prod-fill', prodTasks.length ? Math.round(prodDone/prodTasks.length*100) : 0);

  setText('db-expert-done', expertDone);
  setText('db-expert-sub', '–∏–∑ ' + expertTasks.length);
  setWidth('db-expert-fill', expertTasks.length ? Math.round(expertDone/expertTasks.length*100) : 0);

  // Days countdown
  var now = new Date();
  now.setHours(0,0,0,0);
  var endDate = new Date('2026-05-02');
  var intensiveDate = new Date('2026-04-21');
  var daysEnd = Math.max(0, Math.round((endDate - now) / 86400000));
  var daysInt = Math.max(0, Math.round((intensiveDate - now) / 86400000));
  setText('db-days', daysEnd > 0 ? daysEnd : 'üèÅ');
  setText('db-intensive', daysInt > 0 ? daysInt : 'üéì');

  // Today's tasks
  var todayKey = (function(){
    var t = new Date();
    return t.getFullYear()+'-'+String(t.getMonth()+1).padStart(2,'0')+'-'+String(t.getDate()).padStart(2,'0');
  })();
  var todayWrap = document.getElementById('db-today-tasks');
  if (todayWrap) {
    var todayT = TASKS[todayKey] || [];
    if (todayT.length === 0) {
      todayWrap.innerHTML = '<div class="db-empty">–ù–∞ —Å–µ–≥–æ–¥–Ω—è –∑–∞–¥–∞—á –Ω–µ—Ç ‚Äî –æ—Ç–¥—ã—Ö–∞–π üéâ</div>';
    } else {
      todayWrap.innerHTML = '';
      todayT.forEach(function(t) {
        var div = document.createElement('div');
        div.className = 'db-today-task ' + t.role + (done[t.id] ? ' done' : '');
        div.style.opacity = done[t.id] ? '0.45' : '1';
        div.innerHTML =
          '<div style="flex:1">' +
            '<div class="db-today-role">' + ({prod:'üéØ –ü—Ä–æ–¥—é—Å–µ—Ä',expert:'üé§ –≠–∫—Å–ø–µ—Ä—Ç',both:'ü§ù –í–º–µ—Å—Ç–µ'}[t.role]) + '</div>' +
            '<div class="db-today-text">' + (done[t.id] ? '<s>' : '') + escHtml(t.text) + (done[t.id] ? '</s>' : '') + '</div>' +
            '<div class="db-today-time">' + t.time + '</div>' +
          '</div>';
        todayWrap.appendChild(div);
      });
    }
  }

  // Last call on dashboard
  var dbLastCall = document.getElementById('db-last-call');
  if (dbLastCall) {
    if (calls.length === 0) {
      dbLastCall.innerHTML = '<div class="db-empty">–°–æ–∑–≤–æ–Ω–æ–≤ –µ—â—ë –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ.<br>–ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É <b>–°–æ–∑–≤–æ–Ω—ã</b> –∏ –¥–æ–±–∞–≤—å –ø–µ—Ä–≤—ã–π.</div>';
    } else {
      var lc = calls[0];
      var tasksHtml = '';
      if (lc.tasks && lc.tasks.length > 0) {
        tasksHtml = '<div class="db-lc-tasks-title">–ó–∞–¥–∞—á–∏</div>';
        lc.tasks.forEach(function(t){ tasksHtml += '<div class="db-lc-task">' + escHtml(t) + '</div>'; });
      }
      dbLastCall.innerHTML =
        '<div class="db-last-call-card">' +
          '<div class="db-lc-date">' + formatDate(lc.date) + '</div>' +
          '<div class="db-lc-who">' + escHtml(lc.who) + '</div>' +
          '<div class="db-lc-agreements">' + escHtml(lc.agreements) + '</div>' +
          tasksHtml +
        '</div>';
    }
  }

  // Phase status
  var ph1End = new Date('2026-03-08'); ph1End.setHours(0,0,0,0);
  var ph2End = new Date('2026-04-19'); ph2End.setHours(0,0,0,0);
  var ph3End = new Date('2026-05-03'); ph3End.setHours(0,0,0,0);
  var ph1Start = new Date('2026-02-22'); ph1Start.setHours(0,0,0,0);
  var ph2Start = new Date('2026-03-09'); ph2Start.setHours(0,0,0,0);
  var ph3Start = new Date('2026-04-20'); ph3Start.setHours(0,0,0,0);

  setPhBadge('dbph1-badge', now, ph1Start, ph1End);
  setPhBadge('dbph2-badge', now, ph2Start, ph2End);
  setPhBadge('dbph3-badge', now, ph3Start, ph3End);
}

function setPhBadge(id, now, start, end) {
  var el = document.getElementById(id);
  if (!el) return;
  if (now >= end) {
    el.textContent = '–ó–∞–≤–µ—Ä—à—ë–Ω'; el.className = 'db-phase-badge done';
  } else if (now >= start) {
    el.textContent = '–ò–¥—ë—Ç —Å–µ–π—á–∞—Å'; el.className = 'db-phase-badge active';
  } else {
    el.textContent = '–í–ø–µ—Ä–µ–¥–∏'; el.className = 'db-phase-badge upcoming';
  }
}

function setText(id, val) { var el = document.getElementById(id); if(el) el.textContent = val; }
function setWidth(id, pct) { var el = document.getElementById(id); if(el) el.style.width = pct + '%'; }

// Set today's date as default in form
// init handled by Firebase onValue listener

// ‚îÄ‚îÄ DOCS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
var docs = [];
var SB_STORAGE_URL = 'https://vyuabunyyseovrwvngsr.supabase.co/storage/v1';
var SB_BUCKET = 'project-files';

function getFileIcon(name) {
  var ext = (name || '').split('.').pop().toLowerCase();
  var icons = { pdf: 'üìÑ', doc: 'üìù', docx: 'üìù', xls: 'üìä', xlsx: 'üìä',
    ppt: 'üìä', pptx: 'üìä', png: 'üñº', jpg: 'üñº', jpeg: 'üñº', gif: 'üñº',
    webp: 'üñº', mp4: 'üé¨', mov: 'üé¨', zip: 'üóú', rar: 'üóú', txt: 'üìÉ' };
  return icons[ext] || 'üìÅ';
}

function formatSize(bytes) {
  if (!bytes) return '';
  if (bytes < 1024) return bytes + ' B';
  if (bytes < 1024*1024) return Math.round(bytes/1024) + ' KB';
  return (bytes/1024/1024).toFixed(1) + ' MB';
}

function saveDocs() {
  try { localStorage.setItem('launch_docs', JSON.stringify(docs)); } catch(e){}
  setSyncDot('syncing');
  sbUpsert({ docs: docs });
}

async function handleFileSelect(input) {
  var file = input.files[0];
  if (!file) return;
  await uploadFile(file);
}

// Drag and drop
document.addEventListener('DOMContentLoaded', function() {
  var zone = document.getElementById('uploadZone');
  if (!zone) return;
  zone.addEventListener('dragover', function(e) { e.preventDefault(); zone.classList.add('drag-over'); });
  zone.addEventListener('dragleave', function() { zone.classList.remove('drag-over'); });
  zone.addEventListener('drop', function(e) {
    e.preventDefault(); zone.classList.remove('drag-over');
    var file = e.dataTransfer.files[0];
    if (file) uploadFile(file);
  });
});

async function uploadFile(file) {
  var name    = document.getElementById('doc-name').value.trim() || file.name;
  var comment = document.getElementById('doc-comment').value.trim();
  var key     = Date.now() + '_' + file.name.replace(/[^a-zA-Z0-9._-]/g, '_');

  // Show progress
  var progWrap = document.getElementById('upload-progress');
  var progFill = document.getElementById('uploadProgFill');
  var progText = document.getElementById('uploadProgText');
  progWrap.style.display = 'block';
  progFill.style.width = '10%';
  progText.textContent = '–ó–∞–≥—Ä—É–∂–∞–µ–º...';

  try {
    // Upload to Supabase Storage
    var uploadUrl = SB_STORAGE_URL + '/object/' + SB_BUCKET + '/' + key;
    var xhr = new XMLHttpRequest();
    
    await new Promise(function(resolve, reject) {
      xhr.upload.onprogress = function(e) {
        if (e.lengthComputable) {
          var pct = Math.round(e.loaded / e.total * 90) + 5;
          progFill.style.width = pct + '%';
          progText.textContent = '–ó–∞–≥—Ä—É–∂–∞–µ–º... ' + pct + '%';
        }
      };
      xhr.onload = function() {
        if (xhr.status === 200 || xhr.status === 201) resolve();
        else reject(new Error('Upload failed: ' + xhr.status + ' ' + xhr.responseText));
      };
      xhr.onerror = function() { reject(new Error('Network error')); };
      xhr.open('POST', uploadUrl);
      xhr.setRequestHeader('apikey', SUPABASE_KEY);
      xhr.setRequestHeader('Authorization', 'Bearer ' + SUPABASE_KEY);
      xhr.setRequestHeader('Content-Type', file.type || 'application/octet-stream');
      xhr.setRequestHeader('x-upsert', 'true');
      xhr.send(file);
    });

    var publicUrl = SB_STORAGE_URL + '/object/public/' + SB_BUCKET + '/' + key;
    progFill.style.width = '100%';
    progText.textContent = '–ì–æ—Ç–æ–≤–æ! ‚úì';

    docs.unshift({
      id: Date.now(), key: key, name: name, url: publicUrl,
      comment: comment, size: file.size, type: file.type,
      date: new Date().toISOString().slice(0,10)
    });
    saveDocs();

    document.getElementById('doc-name').value = '';
    document.getElementById('doc-comment').value = '';
    document.getElementById('fileInput').value = '';

    setTimeout(function() {
      progWrap.style.display = 'none';
      progFill.style.width = '0%';
    }, 2000);

    renderDocs();

  } catch(e) {
    console.error('Upload error:', e);
    progText.textContent = '–û—à–∏–±–∫–∞: ' + e.message;
    progFill.style.width = '0%';
    setTimeout(function() { progWrap.style.display = 'none'; }, 3000);
  }
}

async function deleteDoc(id) {
  var doc = docs.find(function(d){ return d.id == id; });
  if (doc && doc.key) {
    // Delete from storage
    try {
      await fetch(SB_STORAGE_URL + '/object/' + SB_BUCKET + '/' + doc.key, {
        method: 'DELETE',
        headers: { 'apikey': SUPABASE_KEY, 'Authorization': 'Bearer ' + SUPABASE_KEY }
      });
    } catch(e) { console.log('Storage delete error:', e); }
  }
  docs = docs.filter(function(d){ return d.id != id; });
  saveDocs();
  renderDocs();
}

function renderDocs() {
  var wrap = document.getElementById('docs-list');
  if (!wrap) return;
  if (!docs || docs.length === 0) {
    wrap.innerHTML = '<div class="db-empty">–§–∞–π–ª–æ–≤ –µ—â—ë –Ω–µ—Ç. –ó–∞–≥—Ä—É–∑–∏ –ø–µ—Ä–≤—ã–π –≤—ã—à–µ.</div>';
    return;
  }
  wrap.innerHTML = '';
  docs.forEach(function(doc) {
    var card = document.createElement('div');
    card.className = 'doc-card';

    var delBtn = document.createElement('button');
    delBtn.className = 'doc-del'; delBtn.title = '–£–¥–∞–ª–∏—Ç—å'; delBtn.textContent = '‚úï';
    delBtn.addEventListener('click', (function(did, cardEl) {
      return function(e) {
        e.stopPropagation();
        var existing = cardEl.querySelector('.call-confirm');
        if (existing) { existing.remove(); return; }
        var bar = document.createElement('div'); bar.className = 'call-confirm';
        bar.innerHTML = '<span>–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª?</span><button class="call-confirm-yes">–î–∞</button><button class="call-confirm-no">–û—Ç–º–µ–Ω–∞</button>';
        bar.querySelector('.call-confirm-yes').addEventListener('click', function(){ deleteDoc(did); });
        bar.querySelector('.call-confirm-no').addEventListener('click', function(){ bar.remove(); });
        cardEl.appendChild(bar);
      };
    })(doc.id, card));

    var icon = document.createElement('div');
    icon.className = 'doc-icon';
    icon.textContent = getFileIcon(doc.name);

    var info = document.createElement('div'); info.className = 'doc-info';
    info.innerHTML =
      '<div class="doc-name">' + escHtml(doc.name) + '</div>' +
      (doc.size ? '<div class="doc-size">' + formatSize(doc.size) + '</div>' : '') +
      (doc.comment ? '<div class="doc-comment">' + escHtml(doc.comment) + '</div>' : '') +
      '<div class="doc-date">' + formatDate(doc.date) + '</div>';

    var openBtn = document.createElement('a');
    openBtn.className = 'doc-open'; openBtn.href = doc.url;
    openBtn.target = '_blank'; openBtn.rel = 'noopener noreferrer';
    openBtn.textContent = '–û—Ç–∫—Ä—ã—Ç—å ‚Üí';

    card.appendChild(delBtn); card.appendChild(icon);
    card.appendChild(info); card.appendChild(openBtn);
    wrap.appendChild(card);
  });
}

</script>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DOCS PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-docs">
  <div class="page-hero">
    <div class="page-hero-inner">
      <div class="hero-tag">–§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞</div>
      <h2>–î–æ–∫—É–º–µ–Ω—Ç—ã</h2>
      <div class="hero-sub">–ó–∞–≥—Ä—É–∂–∞–π PDF, Word, Excel, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚Äî –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –Ω–∞ –ª—é–±–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</div>
    </div>
  </div>
  <div class="wrap">

    <div class="db-section">
      <div class="section-title">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</div>
      <div class="call-form">
        <div class="cf-field">
          <label class="cf-label">–§–∞–π–ª (PDF, Word, Excel, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –¥—Ä.)</label>
          <div class="upload-zone" id="uploadZone" onclick="document.getElementById('fileInput').click()">
            <div class="upload-icon">üìÅ</div>
            <div class="upload-text">–ù–∞–∂–º–∏ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</div>
            <div class="upload-sub">–∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏ —Å—é–¥–∞</div>
            <input type="file" id="fileInput" style="display:none" onchange="handleFileSelect(this)">
          </div>
          <div id="upload-progress" style="display:none">
            <div class="upload-prog-bar"><div class="upload-prog-fill" id="uploadProgFill"></div></div>
            <div class="upload-prog-text" id="uploadProgText">–ó–∞–≥—Ä—É–∂–∞–µ–º...</div>
          </div>
        </div>
        <div class="cf-row">
          <div class="cf-field cf-flex">
            <label class="cf-label">–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
            <input type="text" id="doc-name" class="cf-input" placeholder="–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –∏–º—è —Ñ–∞–π–ª–∞">
          </div>
        </div>
        <div class="cf-field">
          <label class="cf-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
          <input type="text" id="doc-comment" class="cf-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è">
        </div>
      </div>
    </div>

    <div class="db-section">
      <div class="section-title">–§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞</div>
      <div id="docs-list">
        <div class="db-empty">–§–∞–π–ª–æ–≤ –µ—â—ë –Ω–µ—Ç. –ó–∞–≥—Ä—É–∑–∏ –ø–µ—Ä–≤—ã–π –≤—ã—à–µ.</div>
      </div>
    </div>

  </div>
</div>

<!-- iOS Install Hint -->
<div class="ios-install-hint" id="iosHint">
  –ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:<br>
  –ù–∞–∂–º–∏ <b>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</b> (–∫–≤–∞–¥—Ä–∞—Ç —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π) ‚Üí <b>–ù–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª</b>
  <button class="ios-hint-close" onclick="document.getElementById('iosHint').classList.remove('show');localStorage.setItem('pwa_hint_shown','1')">–ü–æ–Ω—è—Ç–Ω–æ</button>
</div>

<!-- Android Install Banner -->
<div class="pwa-banner" id="pwaBanner">
  <div class="pwa-banner-icon">üöÄ</div>
  <div class="pwa-banner-text">
    <div class="pwa-banner-title">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>
    <div class="pwa-banner-sub">–î–æ–±–∞–≤—å –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</div>
  </div>
  <button class="pwa-banner-close" onclick="document.getElementById('pwaBanner').classList.remove('show')">‚úï</button>
</div>


</body>
</html>
